[{"id":"a1ee9f5a.5d90a","type":"tab","label":"Flow 1","disabled":false,"info":""},{"id":"dc9a4134.8f09c","type":"tab","label":"Dates Moment","disabled":true,"info":""},{"id":"6e5fafe2.bee13","type":"tab","label":"Chart","disabled":true,"info":""},{"id":"866759c7.8befd8","type":"tab","label":"Flow 5","disabled":false,"info":""},{"id":"50a6e6d5.16b638","type":"tab","label":"form input to google spread sheet","disabled":true,"info":""},{"id":"107fbf25.7f0f21","type":"tab","label":"Google Sheet Access","disabled":true,"info":""},{"id":"3c130947.4fa0a6","type":"tab","label":"google sheet 2","disabled":true,"info":""},{"id":"fdbe51f4.3b6a9","type":"tab","label":"generating PDF File","disabled":false,"info":""},{"id":"5b3883a5.da9acc","type":"tab","label":"Flow 2","disabled":false,"info":""},{"id":"650a4bd3.ee6b04","type":"tab","label":"STRING TO HTML","disabled":false,"info":""},{"id":"f82da501.44f058","type":"tab","label":"node-red-contrib-calculate","disabled":true,"info":""},{"id":"6c27771f.70ffd8","type":"tab","label":"Fetch Data From S3","disabled":false,"info":""},{"id":"94bcb78b.87f818","type":"tab","label":"Mail To Text File","disabled":false,"info":""},{"id":"e2ebe170.1b0d2","type":"tab","label":"Flow 4","disabled":false,"info":""},{"id":"1a70f6ac.85edb9","type":"tab","label":"Flow 3","disabled":false,"info":""},{"id":"9f1e26f5.f2ee78","type":"tab","label":"Demo 1: Static","disabled":false,"info":""},{"id":"277a2551.7a966a","type":"tab","label":"Demo 2: dynamic","disabled":false,"info":""},{"id":"f6e3b29d.18f65","type":"tab","label":"Demo 3: dynamic growing","disabled":false,"info":""},{"id":"c00e21aa.301e2","type":"tab","label":"Flow 8","disabled":false,"info":""},{"id":"e59f2590.332fb8","type":"tab","label":"Flow 9","disabled":false,"info":""},{"id":"32ef96de.41a4ea","type":"tab","label":"Flow 10","disabled":false,"info":""},{"id":"d5bb42a1.96948","type":"tab","label":"Flow 11","disabled":false,"info":""},{"id":"6987d1e.120b43","type":"tab","label":"Flow 12","disabled":false,"info":""},{"id":"97c51b20.081458","type":"tab","label":"Basics - Messages","disabled":false,"info":""},{"id":"d217000f.892be","type":"tab","label":"Basics - Flow control","disabled":false,"info":""},{"id":"ee2e6758.0a8ec8","type":"tab","label":"Basics - Error handling","disabled":false,"info":""},{"id":"f02b5598.342e68","type":"tab","label":"Basic - Working with data formats","disabled":false,"info":""},{"id":"a8b0d96d.c31858","type":"tab","label":"HTTP endpoints","disabled":false,"info":""},{"id":"eca0d768.8a4f18","type":"tab","label":"HTTP requests","disabled":false,"info":""},{"id":"5e94e835.aaf318","type":"tab","label":"MQTT","disabled":true,"info":""},{"id":"e6309ba0.c51698","type":"tab","label":"Reading  PDF FILE","disabled":false,"info":""},{"id":"c0e2512e.4c22f","type":"tab","label":"Flow 7","disabled":false,"info":""},{"id":"2a061f19.b163","type":"tab","label":"Flow 13","disabled":false,"info":""},{"id":"5c97dbe3.5ec884","type":"mongodb2","uri":"mongodb://localhost:27017/admin","name":"Store Data To MongoDB","options":"","parallelism":"-1"},{"id":"fc435fd6.ca5fb","type":"ui_base","theme":{"name":"theme-dark","lightTheme":{"default":"#0094CE","baseColor":"#22cc00","baseFont":"-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif","edited":true,"reset":false},"darkTheme":{"default":"#097479","baseColor":"#217709","baseFont":"-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif","edited":true,"reset":false},"customTheme":{"name":"Untitled Theme 1","default":"#4B7930","baseColor":"#4B7930","baseFont":"-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"},"themeState":{"base-color":{"default":"#097479","value":"#217709","edited":true},"page-titlebar-backgroundColor":{"value":"#217709","edited":false},"page-backgroundColor":{"value":"#111111","edited":false},"page-sidebar-backgroundColor":{"value":"#000000","edited":false},"group-textColor":{"value":"#35be0e","edited":false},"group-borderColor":{"value":"#555555","edited":false},"group-backgroundColor":{"value":"#333333","edited":false},"widget-textColor":{"value":"#eeeeee","edited":false},"widget-backgroundColor":{"value":"#217709","edited":false},"widget-borderColor":{"value":"#333333","edited":false},"base-font":{"value":"-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"}},"angularTheme":{"primary":"indigo","accents":"blue","warn":"red","background":"grey"}},"site":{"name":"Node-RED Dashboard","hideToolbar":"false","allowSwipe":"false","lockMenu":"false","allowTempTheme":"true","dateFormat":"DD/MM/YYYY","sizes":{"sx":48,"sy":48,"gx":6,"gy":6,"cx":6,"cy":6,"px":0,"py":0}}},{"id":"1060b50f.fefd2b","type":"ui_group","name":"TTS - Text to Speech","tab":"59755ac7.37f3d4","order":1,"disp":true,"width":"6","collapse":false},{"id":"59755ac7.37f3d4","type":"ui_tab","d":true,"name":"TTS","icon":"dashboard","order":3,"disabled":false,"hidden":false},{"id":"8820ca84.da9028","type":"ui_group","name":"Group 1","tab":"a570fbe2.4797d8","order":2,"disp":true,"width":"6","collapse":true},{"id":"f2929d3.9d5626","type":"ui_tab","name":"Tab 3","icon":"dashboard","order":2,"disabled":true,"hidden":false},{"id":"b519a816.b87948","type":"ui_tab","name":"Tab 4","icon":"dashboard","order":4,"disabled":false,"hidden":false},{"id":"6ad7a381.40278c","type":"ui_group","name":"covid19world","tab":"26d39f48.2935e","order":1,"disp":true,"width":"6","collapse":true},{"id":"ef3f513a.77e67","type":"ui_group","name":"Default","tab":"b519a816.b87948","order":1,"disp":true,"width":"6","collapse":false},{"id":"1ecc1e6b.f18482","type":"ui_tab","name":"Covide","icon":"dashboard","order":1,"disabled":true,"hidden":false},{"id":"181354c8.71580b","type":"google-config"},{"id":"975fc6ab.b865c8","type":"mqtt-broker","name":"","broker":"192.168.1.50","port":"1883","clientid":"MqttDashboard-4665884","usetls":false,"compatmode":true,"keepalive":"60","cleansession":true,"birthTopic":"","birthQos":"0","birthPayload":"","closeTopic":"","closePayload":"","willTopic":"","willQos":"0","willPayload":""},{"id":"23954585.ca622a","type":"mqtt-broker","name":"","broker":"localhost","port":"1883","clientid":"","usetls":false,"compatmode":true,"keepalive":"60","cleansession":true,"birthTopic":"","birthQos":"0","birthPayload":"","closeTopic":"","closePayload":"","willTopic":"","willQos":"0","willPayload":""},{"id":"3603d2c4.f03c5e","type":"serial-port","serialport":"COM15","serialbaud":"38400","databits":"8","parity":"none","stopbits":"1","newline":"3","bin":"bin","out":"time","addchar":false},{"id":"d7cb836a.f888b","type":"serial-port","serialport":"COM13","serialbaud":"38400","databits":"8","parity":"none","stopbits":"2","newline":"3","bin":"bin","out":"time","addchar":false},{"id":"c44285d7.dcca28","type":"mqtt-broker","name":"","broker":"127.0.0.1","port":"1883","clientid":"","usetls":false,"compatmode":true,"keepalive":"60","cleansession":true,"birthTopic":"","birthQos":"0","birthPayload":"","willTopic":"","willQos":"0","willPayload":""},{"id":"26d39f48.2935e","type":"ui_tab","name":"WorldCovid","icon":"dashboard","order":5,"disabled":false,"hidden":false},{"id":"34d58f90.7fb1e","type":"ui_group","name":"svg","tab":"a570fbe2.4797d8","order":1,"disp":true,"width":"6","collapse":true},{"id":"e1e322bc.837eb","type":"ui_tab","name":"UI","icon":"dashboard","order":6,"disabled":false,"hidden":false},{"id":"c7965863.4cc468","type":"ui_group","name":"Calculater","tab":"e1e322bc.837eb","order":1,"disp":true,"width":"6","collapse":false},{"id":"d619ff0.8fca","type":"websocket-listener","path":"wss://qnp026ih5h.execute-api.us-east-1.amazonaws.com/dev","wholemsg":"false"},{"id":"a22c92e.a55687","type":"websocket-listener","path":"wss://qnp026ih5h.execute-api.us-east-1.amazonaws.com/dev","wholemsg":"false"},{"id":"95ab8e00.b702f","type":"websocket-client","path":"wss://echo.websocket.org","wholemsg":"false"},{"id":"c800f1b6.011dd","type":"websocket-client","path":"wss://qnp026ih5h.execute-api.us-east-1.amazonaws.com/dev","tls":"","wholemsg":"false"},{"id":"6878ad53.bb6bc4","type":"gauth"},{"id":"9ba28c8a.4018d","type":"ncd-gateway-config","name":"","comm_type":"serial","ip_address":"","tcp_port":"2101","port":"COM6","baudRate":"115200","pan_id":"7fff","rssi":false},{"id":"f11e0794.2fb518","type":"ncd-gateway-config","name":"","comm_type":"serial","ip_address":"","tcp_port":"2101","port":"COM6","baudRate":"115200","pan_id":"7fff","rssi":false},{"id":"c1ddd557.00f878","type":"ncd-gateway-config","name":"","comm_type":"serial","ip_address":"","tcp_port":"2101","port":"COM6","baudRate":"115200","pan_id":"7fff","rssi":false},{"id":"3f956791.eb2098","type":"ui_group","name":"Google sheets","tab":"bd7b14b7.76baf8","order":1,"disp":true,"width":"6","collapse":false},{"id":"d9741b6c.b5e758","type":"google-service-account","name":"nodered-spread-sheet","scope":["https://www.googleapis.com/auth/spreadsheets"],"way":"json","check_dialogflow":"","check_speech":""},{"id":"bd7b14b7.76baf8","type":"ui_tab","d":true,"name":"Submit form to google sheets","icon":"dashboard","disabled":false,"hidden":false},{"id":"8b34fbfe.ee0968","type":"google-service-account","name":"","scope":["https://www.googleapis.com/auth/spreadsheets"],"way":"json","check_dialogflow":"","check_speech":""},{"id":"4021bff0.e544d","type":"google-service-account","name":"","scope":["https://www.googleapis.com/auth/spreadsheets"],"way":"json","check_dialogflow":"","check_speech":""},{"id":"d73ff424.05ada8","type":"gauth"},{"id":"b5c21ac7.1d8908","type":"ui_spacer","name":"spacer","group":"3f956791.eb2098","order":1,"width":1,"height":1},{"id":"90bcbf5.59fcd4","type":"ui_group","name":"COVID Stats","tab":"5588ab2.1c5a354","order":2,"disp":true,"width":"12","collapse":false},{"id":"6ac20f95.64084","type":"ui_group","name":"Search","tab":"5588ab2.1c5a354","order":1,"disp":true,"width":"8","collapse":false},{"id":"370a72aa.5003ee","type":"ui_group","name":"Country Reports","tab":"5588ab2.1c5a354","order":3,"disp":true,"width":"8","collapse":false},{"id":"5588ab2.1c5a354","type":"ui_tab","name":"COVID Tracker","icon":"dashboard","order":9,"disabled":false,"hidden":false},{"id":"71a4d746.794aa8","type":"ui_group","name":"COVID Stats","tab":"8f2bd9a4.f20f18","order":2,"disp":true,"width":"12","collapse":false},{"id":"2ae65a29.a1d4f6","type":"ui_group","name":"Search","tab":"8f2bd9a4.f20f18","order":1,"disp":true,"width":"8","collapse":false},{"id":"778d305a.2794","type":"ui_group","name":"Country Reports","tab":"8f2bd9a4.f20f18","order":3,"disp":true,"width":"8","collapse":false},{"id":"8f2bd9a4.f20f18","type":"ui_tab","name":"COVID Tracker","icon":"dashboard","order":9,"disabled":false,"hidden":false},{"id":"475656fa.60ee98","type":"mongodb2","uri":"mongodb://localhost:27017/admin","name":"","options":"","parallelism":"-1"},{"id":"987865ad.d791f8","type":"aws-config"},{"id":"25ea45ca.9f536a","type":"aws-config"},{"id":"5f8647ef.ce7e98","type":"ui_group","name":"demo 1","tab":"f43965ea.a6c9f8","order":1,"disp":false,"width":"12","collapse":false},{"id":"f43965ea.a6c9f8","type":"ui_tab","d":true,"name":"Demo 1:  static","icon":"dashboard","order":1,"disabled":false,"hidden":false},{"id":"40fa160.5d9dcec","type":"ui_tab","d":true,"name":"Demo 3: dynamic growing","icon":"dashboard","order":3,"disabled":false,"hidden":false},{"id":"c1b9b463.5c57d8","type":"ui_group","name":"demo 3","tab":"40fa160.5d9dcec","order":1,"disp":false,"width":"12","collapse":false},{"id":"b739eae5.680078","type":"ui_tab","d":true,"name":"Demo 2: dynamic","icon":"dashboard","order":2,"disabled":false,"hidden":false},{"id":"adddf7b7.0d46b8","type":"ui_group","name":"demo 2","tab":"b739eae5.680078","order":1,"disp":false,"width":"12","collapse":false},{"id":"65c01943.b46cc8","type":"ui_group","name":"Floorplan test","tab":"a570fbe2.4797d8","order":1,"disp":true,"width":"14","collapse":false},{"id":"a570fbe2.4797d8","type":"ui_tab","name":"SVG","icon":"dashboard","disabled":false,"hidden":false},{"id":"cdba260a.4afa38","type":"position-config","name":"","isValide":"true","longitude":"0","latitude":"0","angleType":"deg","timeZoneOffset":"99","timeZoneDST":"0","stateTimeFormat":"16","stateDateFormat":"1"},{"id":"bfe7bbcf.24f738","type":"ui_group","name":"Group 2","tab":"912de070.2a33a","order":2,"disp":true,"width":"6"},{"id":"912de070.2a33a","type":"ui_tab","z":"6987d1e.120b43","name":"New Test","icon":"dashboard"},{"id":"bd9151af.2be46","type":"ui_group","name":"Default","tab":"98bc5d38.5b6f8","order":1,"disp":true,"width":"6","collapse":false},{"id":"98bc5d38.5b6f8","type":"ui_tab","name":"Home","icon":"dashboard","disabled":false,"hidden":false},{"id":"f8c91c96.022c6","type":"mqtt-broker","name":"","broker":"localhost","port":"1883","clientid":"","usetls":false,"compatmode":true,"keepalive":"60","cleansession":true,"birthTopic":"","birthQos":"0","birthPayload":"","closeTopic":"","closePayload":"","willTopic":"","willQos":"0","willPayload":""},{"id":"3d882eae.376e82","type":"ui_group","name":"New Message","tab":"fce3a44.ffd5658","order":1,"disp":true,"width":"6","collapse":false},{"id":"fce3a44.ffd5658","type":"ui_tab","name":"Whatsapp","icon":"dashboard","disabled":false,"hidden":false},{"id":"d2cc6179.3bb0f","type":"http request","z":"a1ee9f5a.5d90a","name":"","method":"GET","ret":"txt","url":"query.yahooapis.com/v1/public/yql?q={{{query}}}&format=json","tls":"","x":490,"y":220,"wires":[["3d1a7418.de89bc"]]},{"id":"3d1a7418.de89bc","type":"debug","z":"a1ee9f5a.5d90a","name":"","active":true,"console":"false","complete":"payload","x":650,"y":220,"wires":[]},{"id":"1beee1e9.5517ee","type":"inject","z":"a1ee9f5a.5d90a","name":"query parameter","repeat":"","crontab":"","once":false,"topic":"","payload":"select astronomy.sunset from weather.forecast where woeid in (select woeid from geo.places(1) where text=\"maui, hi\")","payloadType":"str","x":140,"y":220,"wires":[["5f34e8f4.21a808"]]},{"id":"5f34e8f4.21a808","type":"change","z":"a1ee9f5a.5d90a","name":"","rules":[{"t":"set","p":"query","pt":"msg","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":320,"y":220,"wires":[["d2cc6179.3bb0f"]]},{"id":"54aeaf77.cb7f3","type":"comment","z":"dc9a4134.8f09c","name":"timestamp","info":"\n\nUnix Time은 즉 협정 세계시인 UTC에 근거\n1970년 1월 1일부터 경과의 숫자로 정의\n���정 세계시가 1972년 1월 1일에 재정\n1970-1-1\n\n시작  1970-01-01T00:00:00.000Z\n1년후 1971-01-01T00:00:00.000Z\n\n년 = 8640 * 365 = 31536000\n월 = 8640 * 30 = 2592000\n일 = 24 * 360 = 86400\n시 = 3600\n분 = 60\n초 = 1\n*1000\n\n31536000000\n\n\n\n","x":100,"y":40,"wires":[]},{"id":"875b902.917137","type":"inject","z":"dc9a4134.8f09c","name":"","repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"","payloadType":"date","x":120,"y":100,"wires":[["23d5ecfe.f9d3d4"]]},{"id":"23d5ecfe.f9d3d4","type":"debug","z":"dc9a4134.8f09c","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":360,"y":100,"wires":[]},{"id":"d28853f2.7d9f5","type":"inject","z":"dc9a4134.8f09c","name":"","props":[{"p":"payload","v":"31536000000","vt":"num"},{"p":"topic","v":"","vt":"string"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"31536000000","payloadType":"num","x":130,"y":220,"wires":[["5de6ef5a.186aa"]]},{"id":"161c1f33.cfac51","type":"inject","z":"dc9a4134.8f09c","name":"","repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"94608000000","payloadType":"num","x":130,"y":380,"wires":[["fb7248f6.a2fcf8"]]},{"id":"65ffbe5c.a4d7d","type":"debug","z":"dc9a4134.8f09c","name":"3 years later","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","x":570,"y":380,"wires":[]},{"id":"e5c2812c.5c70d","type":"debug","z":"dc9a4134.8f09c","name":"1 year later","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","x":570,"y":220,"wires":[]},{"id":"46194eb2.0cf6c","type":"inject","z":"dc9a4134.8f09c","name":"","repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"0","payloadType":"num","x":110,"y":180,"wires":[["b3b9f4f1.f09968"]]},{"id":"8d72f660.a5ea08","type":"debug","z":"dc9a4134.8f09c","name":"UTC","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","x":550,"y":180,"wires":[]},{"id":"1988524f.6d16ce","type":"inject","z":"dc9a4134.8f09c","name":"","repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"63072000000","payloadType":"num","x":130,"y":260,"wires":[["239e8087.3f0bc"]]},{"id":"7927b7a6.b36048","type":"debug","z":"dc9a4134.8f09c","name":"2 years later","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","x":570,"y":260,"wires":[]},{"id":"7c25464d.bc9328","type":"inject","z":"dc9a4134.8f09c","name":"","repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"94694400000","payloadType":"num","x":130,"y":420,"wires":[["d111eb52.c72518"]]},{"id":"4788ab8.824ee54","type":"debug","z":"dc9a4134.8f09c","name":"3  years later(+1day)","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","x":600,"y":420,"wires":[]},{"id":"75b89742.2d7fa8","type":"comment","z":"dc9a4134.8f09c","name":"Leap Year 1972","info":"Leap Years day(1970 - 2050)\n1972\n1976\n1980\n1984\n1988\n1992\n1996\n2000\t\n2004\n2008\n2012\n2016\n2020\n2024\n2028\n2032\n2036\n2040\n2044\n2048","x":280,"y":320,"wires":[]},{"id":"744ceda2.573b04","type":"inject","z":"dc9a4134.8f09c","name":"","repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"1514764800000","payloadType":"num","x":140,"y":540,"wires":[["7bc591a1.d55ae"]]},{"id":"df21b9bd.cc65b8","type":"debug","z":"dc9a4134.8f09c","name":"2018( 1975yr + 48yr + 12 days)","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","x":630,"y":540,"wires":[]},{"id":"437f07cf.f37c68","type":"comment","z":"dc9a4134.8f09c","name":"Leap Year days : 12 (1970~2018)","info":"Leap Years day(1970 - 2050)\n1972\n1976\n1980\n1984\n1988\n1992\n1996\n2000\t\n2004\n2008\n2012\n2016\n2020\n2024\n2028\n2032\n2036\n2040\n2044\n2048","x":330,"y":480,"wires":[]},{"id":"5de6ef5a.186aa","type":"moment","z":"dc9a4134.8f09c","name":"","topic":"","input":"","inputType":"msg","inTz":"Asia/Seoul","adjAmount":0,"adjType":"days","adjDir":"add","format":"","locale":"ko_KR","output":"","outputType":"msg","outTz":"Asia/Seoul","x":360,"y":220,"wires":[["e5c2812c.5c70d"]]},{"id":"fb7248f6.a2fcf8","type":"moment","z":"dc9a4134.8f09c","name":"","topic":"","input":"","inputType":"msg","inTz":"Asia/Seoul","adjAmount":0,"adjType":"days","adjDir":"add","format":"","locale":"ko_KR","output":"","outputType":"msg","outTz":"Asia/Seoul","x":360,"y":380,"wires":[["65ffbe5c.a4d7d"]]},{"id":"b3b9f4f1.f09968","type":"moment","z":"dc9a4134.8f09c","name":"","topic":"","input":"","inputType":"msg","inTz":"Asia/Seoul","adjAmount":0,"adjType":"days","adjDir":"add","format":"","locale":"ko_KR","output":"","outputType":"msg","outTz":"Asia/Seoul","x":360,"y":180,"wires":[["8d72f660.a5ea08"]]},{"id":"239e8087.3f0bc","type":"moment","z":"dc9a4134.8f09c","name":"","topic":"","input":"","inputType":"msg","inTz":"Asia/Seoul","adjAmount":0,"adjType":"days","adjDir":"add","format":"","locale":"ko_KR","output":"","outputType":"msg","outTz":"Asia/Seoul","x":360,"y":260,"wires":[["7927b7a6.b36048"]]},{"id":"d111eb52.c72518","type":"moment","z":"dc9a4134.8f09c","name":"","topic":"","input":"","inputType":"msg","inTz":"Asia/Seoul","adjAmount":0,"adjType":"days","adjDir":"add","format":"","locale":"ko_KR","output":"","outputType":"msg","outTz":"Asia/Seoul","x":360,"y":420,"wires":[["4788ab8.824ee54"]]},{"id":"7bc591a1.d55ae","type":"moment","z":"dc9a4134.8f09c","name":"","topic":"","input":"","inputType":"msg","inTz":"Asia/Seoul","adjAmount":0,"adjType":"days","adjDir":"add","format":"","locale":"ko_KR","output":"","outputType":"msg","outTz":"Asia/Seoul","x":360,"y":540,"wires":[["df21b9bd.cc65b8"]]},{"id":"a11b564c.84d1d8","type":"inject","z":"6e5fafe2.bee13","name":"2s","repeat":"2","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"","payloadType":"date","x":90,"y":100,"wires":[["fc3720a4.0dd8f","73a1c325.ebe13c"]]},{"id":"fc3720a4.0dd8f","type":"function","z":"6e5fafe2.bee13","name":"random1","func":"ran = parseInt(Math.random() * 10);\nmsg.topic = \"Random1\";\nmsg.payload = ran;\nreturn msg;","outputs":1,"noerr":0,"x":260,"y":100,"wires":[["21dd74e9.2157ac"]]},{"id":"73a1c325.ebe13c","type":"function","z":"6e5fafe2.bee13","name":"random2","func":"ran = parseInt(Math.random() * 10);\nmsg.topic = \"Random2\";\nmsg.payload = ran;\nreturn msg;","outputs":1,"noerr":0,"x":260,"y":140,"wires":[["ba204c6e.59d6a","21dd74e9.2157ac"]]},{"id":"3ff3e8a3.96a8b8","type":"inject","z":"6e5fafe2.bee13","name":"Flush","repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"","payloadType":"date","x":90,"y":180,"wires":[["d3b4173f.f88118"]]},{"id":"d3b4173f.f88118","type":"function","z":"6e5fafe2.bee13","name":"Flush","func":"msg.payload = [];\nreturn msg;","outputs":1,"noerr":0,"x":250,"y":180,"wires":[[]]},{"id":"781c7d29.3fccc4","type":"function","z":"6e5fafe2.bee13","name":"Save","func":"flow.set(\"chartarray\",msg.payload);","outputs":1,"noerr":0,"x":650,"y":100,"wires":[[]]},{"id":"25eaa91d.5f42d6","type":"inject","z":"6e5fafe2.bee13","name":"Reload","repeat":"3600","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"","payloadType":"date","x":100,"y":220,"wires":[["5834fc0c.2bd894"]]},{"id":"5834fc0c.2bd894","type":"function","z":"6e5fafe2.bee13","name":"Reload","func":"msg.payload = flow.get(\"chartarray\");\nreturn msg;","outputs":1,"noerr":0,"x":260,"y":220,"wires":[[]]},{"id":"8b6c5fed.d8fba","type":"comment","z":"6e5fafe2.bee13","name":"Dashboard Chart Node","info":"","x":130,"y":40,"wires":[]},{"id":"751f294d.1aa718","type":"http in","z":"6e5fafe2.bee13","name":"","url":"/random","method":"get","upload":false,"swaggerDoc":"","x":90,"y":380,"wires":[["e490de8b.4badf"]]},{"id":"9efd5ac1.7da928","type":"http response","z":"6e5fafe2.bee13","name":"","statusCode":"","headers":{},"x":710,"y":380,"wires":[]},{"id":"3ff5cba8.efa614","type":"comment","z":"6e5fafe2.bee13","name":"Random http://127.0.0.1:1880/random","info":"","x":180,"y":320,"wires":[]},{"id":"e490de8b.4badf","type":"function","z":"6e5fafe2.bee13","name":"http in","func":"rnum=parseInt(msg.req.query.rnum);\ncount=parseInt(msg.req.query.count);\n\nif (rnum <= 2 && count <= 10) {\n    msg.rnum = rnum;\n    msg.count = count;\n    msg.payload=\"OK\";\n    return msg; \n}else{\n    msg.payload=\"Error!\";\n    return msg;    \n}  ","outputs":1,"noerr":0,"x":280,"y":380,"wires":[["3a225bc3.542474","c38a1ca1.14a4f"]]},{"id":"3a225bc3.542474","type":"function","z":"6e5fafe2.bee13","name":"Ok","func":"pay=msg.payload;\nif (pay == \"OK\"){\n    return msg;\n}","outputs":1,"noerr":0,"x":430,"y":380,"wires":[["a40c5af5.d95578"]]},{"id":"a40c5af5.d95578","type":"function","z":"6e5fafe2.bee13","name":"Output","func":"var temp=[];\nvar tempmsg = flow.get(\"chartarray\");\nrnum=msg.rnum;\ncount=msg.count;\n\ntemp = \"[\";\nfor(var i = 0; i < rnum; i++){\n    temp = temp + \"[\";    \n    for(var j = 0; j < count; j++){\n        var j2=9-j;\n        temp = temp + '{ \"time\" : \"';\n        temp = temp + tempmsg[0].data[i][j2].x;\n        temp = temp + '\" , \"val\" : \"';\n        temp = temp + tempmsg[0].data[i][j2].y;\n        temp = temp + '\" }';\n        if (j < count-1){ temp = temp + \",\";}\n        }\n    temp = temp + \"]\";\n    if (i < rnum-1){ temp = temp + \",\";}\n}\ntemp = temp + \"]\";\n\nmsg.payload = temp;\nreturn msg;","outputs":1,"noerr":0,"x":570,"y":380,"wires":[["9efd5ac1.7da928"]]},{"id":"cfef14a3.b2c638","type":"debug","z":"6e5fafe2.bee13","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":670,"y":140,"wires":[]},{"id":"5c095670.785298","type":"http response","z":"6e5fafe2.bee13","name":"","statusCode":"","headers":{},"x":710,"y":440,"wires":[]},{"id":"c38a1ca1.14a4f","type":"function","z":"6e5fafe2.bee13","name":"Error","func":"pay=msg.payload;\nif (pay == \"Error!\"){\n    return msg;\n}","outputs":1,"noerr":0,"x":430,"y":440,"wires":[["3ec77343.4a257c"]]},{"id":"3ec77343.4a257c","type":"template","z":"6e5fafe2.bee13","name":"web","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"<html>\n    <head></head>\n    <body>\n        <h1>{{payload}}</h1>\n    </body>\n</html>","output":"str","x":570,"y":440,"wires":[["5c095670.785298"]]},{"id":"fbd0cc0d.3fe9b","type":"inject","z":"6e5fafe2.bee13","name":"","repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"","payloadType":"date","x":100,"y":560,"wires":[["9d81acad.b627f"]]},{"id":"30f8d1ec.ad1f4e","type":"debug","z":"6e5fafe2.bee13","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":510,"y":560,"wires":[]},{"id":"9d81acad.b627f","type":"http request","z":"6e5fafe2.bee13","name":"exchange","method":"GET","ret":"obj","url":"http://earthquake.kr/exchange/","tls":"","x":290,"y":560,"wires":[["30f8d1ec.ad1f4e"]]},{"id":"477771d4.d53ca","type":"inject","z":"6e5fafe2.bee13","name":"","repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"","payloadType":"date","x":100,"y":620,"wires":[["574aa595.66534c"]]},{"id":"da635401.5164c8","type":"debug","z":"6e5fafe2.bee13","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":510,"y":620,"wires":[]},{"id":"574aa595.66534c","type":"http request","z":"6e5fafe2.bee13","name":"random","method":"GET","ret":"obj","url":"http://localhost:1880/random?rnum=2&count=5","tls":"","x":290,"y":620,"wires":[["da635401.5164c8"]]},{"id":"ba204c6e.59d6a","type":"ui_template","z":"6e5fafe2.bee13","group":"8820ca84.da9028","name":"","order":0,"width":0,"height":0,"format":"<div layout=\"row\" layout-align=\"space-between\">\n<p>The number is</p>\n<p ng-style=\"{color: (msg.payload || 0) % 2 === 0 ? 'green' : 'red'}\">\n  {{(msg.payload || 0) % 2 === 0 ? 'even' : 'odd'}}\n</p>\n</div>","storeOutMessages":true,"fwdInMessages":true,"templateScope":"local","x":480,"y":160,"wires":[[]]},{"id":"21dd74e9.2157ac","type":"ui_chart","z":"6e5fafe2.bee13","name":"","group":"8820ca84.da9028","order":0,"width":"6","height":"5","label":"test","chartType":"pie","legend":"false","xformat":"HH:mm:ss","interpolate":"linear","nodata":"","dot":false,"ymin":"","ymax":"","removeOlder":"20","removeOlderPoints":"","removeOlderUnit":"1","cutout":0,"useOneColor":false,"useUTC":false,"colors":["#1f77b4","#aec7e8","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"useOldStyle":false,"outputs":1,"x":430,"y":40,"wires":[[]]},{"id":"c1ad1c02.3723e","type":"ls-out-cloudwatch","z":"a1ee9f5a.5d90a","name":"","ls_batch_size":"","ls_codec":"plain","ls_dimensions":"","ls_field_dimensions":"","ls_field_metricname":"","ls_field_namespace":"","ls_field_unit":"","ls_field_value":"","ls_metricname":"","ls_namespace":"","ls_queue_size":"","ls_timeframe":"","ls_unit":"","ls_value":"","ls_workers":"","x":390,"y":80,"wires":[]},{"id":"e9104462.d61028","type":"http request","z":"866759c7.8befd8","name":"","method":"GET","ret":"txt","url":"https://query.yahooapis.com/v1/public/yql?q={{{query}}}&format=json","tls":"","x":450,"y":200,"wires":[["436f4171.2590f"]]},{"id":"436f4171.2590f","type":"debug","z":"866759c7.8befd8","name":"","active":true,"console":"false","complete":"payload","x":610,"y":200,"wires":[]},{"id":"71ea75b.bcd018c","type":"inject","z":"866759c7.8befd8","name":"query parameter","props":[{"p":"payload","v":"select astronomy.sunset from weather.forecast where woeid in (select woeid from geo.places(1) where text=\"maui, hi\")","vt":"str"},{"p":"topic","v":"","vt":"string"}],"repeat":"","crontab":"","once":false,"topic":"","payload":"select astronomy.sunset from weather.forecast where woeid in (select woeid from geo.places(1) where text=\"maui, hi\")","payloadType":"str","x":100,"y":200,"wires":[["f5b76363.97978"]]},{"id":"f5b76363.97978","type":"change","z":"866759c7.8befd8","name":"","rules":[{"t":"set","p":"query","pt":"msg","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":280,"y":200,"wires":[["e9104462.d61028"]]},{"id":"6fe782b6.c900ec","type":"template","z":"866759c7.8befd8","name":"page","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"<html>\n    <head></head>\n    <body>\n        <h1>Hello {{req.query.name}}!</h1>\n    </body>\n</html>","x":330,"y":320,"wires":[["f75f965.8b69668"]]},{"id":"d2df4ac8.882f98","type":"http in","z":"866759c7.8befd8","name":"","url":"/hello-query","method":"get","swaggerDoc":"","x":160,"y":320,"wires":[["6fe782b6.c900ec"]]},{"id":"f75f965.8b69668","type":"http response","z":"866759c7.8befd8","name":"","x":470,"y":320,"wires":[]},{"id":"3f7f5ec5.a96422","type":"ui_form","z":"50a6e6d5.16b638","name":"","label":"Email form","group":"3f956791.eb2098","order":1,"width":0,"height":0,"options":[{"label":"Email","value":"email","type":"text","required":true,"rows":null}],"formValue":{"email":""},"payload":"","submit":"submit","cancel":"cancel","topic":"","x":90,"y":260,"wires":[["9edaef4a.cffca"]]},{"id":"492c7b8.3735184","type":"debug","z":"50a6e6d5.16b638","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":630,"y":280,"wires":[]},{"id":"9edaef4a.cffca","type":"change","z":"50a6e6d5.16b638","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"[{\"Email\":$.msg.payload.email}]","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":320,"y":260,"wires":[["492c7b8.3735184","e0701509.1de1d8"]]},{"id":"55314f9f.9d237","type":"comment","z":"50a6e6d5.16b638","name":"How to configure Google sheets ","info":"# Install extra nodes\n#https://www.rodened.com/posts/how-to-read-and-write-data-to-a-google-sheet-in-node-red-1\n\nFrom the manage palette, install node-red-contrib-viseo-google-authentication and\nnode-red-contrib-viseo-google-spreadsheet.\n\n# Set up a Google service account and enable Google sheets API\nGo to [https://console.developers.google.com/project](https://console.developers.google.com/project) and sign in to your Google/Gmail account.\n\nOnce signed in, you'll see a list of existing projects (if there are any) or you can click Create Project to create a new one.\n\nOn the New Project page, enter a name for your project, select an organization and then click Create.\n\n# Enable the Drive API\n\nMake sure you are logged into the Developers Console and your project is selected as the current project.\n\nFrom the navigation menu, hover over APIs and Services and select Library.\n\nSearch for and click the Google Drive API tile.\n\nClick enable.\n\n# Enable the Sheets API\n\nMake sure your project is still selected as the current project.\n\nFrom the navigation menu, hover over APIs and Services and select Library.\nSearch for and click the Google Sheets API tile.\n\nClick Enable.\n\n# Download Service Account Credentials\n\nTo create credentials, from the navigation menu, hover over APIs and Services and select click Credentials. On the Credentials page, click Create credentials and select the Service account key option.\n\nSet the Service account dropdown to New service account. Then enter the Name and select a Role for your service account.\n\nCopy the Service account ID which is an email address starting with your service account name.\n\nClick Create to generate a certificate file and download it as json.\n\nClick on the pen to the right of the Credentials in the node, copy and paste the information in the json file in the field for JSON.\n\n# Create a new Google spread sheet from Google Drive. \n\nTake the ID part from the https link to the spread sheet.\n\nThe link looks similar to this: https://docs.google.com/spreadsheets/d/1C_F7--lWjn1Q3dzkNIcU66NoalhSXL3HPvsIxEUFXo0/edit#gid=0\n\nHere the ID is 1C_F7--lWjn1Q3dzkNIcU66NoalhSXL3HPvsIxEUFXo0 which should be copied to the ID field in the node configuration.\n\nWhen you have the Google sheet open click on the share button in the upper right corner. In the people field put in the email address that you copied from Service account ID and click ready.\n\nNow you should be able to read and write to the Google sheet.\n\nThere is an ERROR message \"Missing VISEO Bot Maker key - Read the documentation.\". \nThis will not stop the flow from working.","x":150,"y":40,"wires":[]},{"id":"f968a065.0d62","type":"comment","z":"50a6e6d5.16b638","name":"(double click to read the instruction or look at the info panel to the right)","info":"","x":270,"y":80,"wires":[]},{"id":"e8735888.6d4f68","type":"comment","z":"50a6e6d5.16b638","name":"put the message from the form into a json array","info":"","x":340,"y":200,"wires":[]},{"id":"fa3289d6.58c088","type":"debug","z":"50a6e6d5.16b638","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":550,"y":400,"wires":[]},{"id":"d500018e.aeb39","type":"inject","z":"50a6e6d5.16b638","name":"","repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"","payloadType":"date","x":140,"y":420,"wires":[["776202b1.29d87c"]]},{"id":"9f2c127a.fd54c","type":"comment","z":"50a6e6d5.16b638","name":"Read a Google sheet and display the text in the debug window","info":"","x":380,"y":360,"wires":[]},{"id":"e0701509.1de1d8","type":"google-spreadsheet","z":"50a6e6d5.16b638","name":"sheet","auth":"4021bff0.e544d","sheet":"1bah3LZNYEj-N3mfE90vkeSiDhWuXut2LDJ8PPmgPNYk","range":"Sheet1","method":"new","direction":"line","action":"set","clear":false,"line":true,"column":true,"fields":"all","save":"_sheet","selfields":[""],"cell_l":"","cell_c":"","input":"payload","output":"payload","saveType":"global","inputType":"msg","outputType":"msg","sheetType":"str","rangeType":"str","cell_lType":"str","cell_cType":"str","x":610,"y":220,"wires":[[],[]]},{"id":"776202b1.29d87c","type":"google-spreadsheet","z":"50a6e6d5.16b638","name":"nodered-spread-sheet","auth":"d9741b6c.b5e758","sheet":"1bah3LZNYEj-N3mfE90vkeSiDhWuXut2LDJ8PPmgPNYk","range":"Sheet1","method":"append","direction":"line","action":"get","clear":false,"line":false,"column":false,"fields":"all","save":"_sheet","selfields":[""],"cell_l":"","cell_c":"","input":"payload","output":"payload","saveType":"global","inputType":"msg","outputType":"msg","sheetType":"str","rangeType":"str","cell_lType":"str","cell_cType":"str","x":320,"y":420,"wires":[["fa3289d6.58c088"],["fa3289d6.58c088"]]},{"id":"a266b0f9.ba733","type":"GSheet","z":"107fbf25.7f0f21","creds":"d73ff424.05ada8","method":"get","action":"","sheet":"1bah3LZNYEj-N3mfE90vkeSiDhWuXut2LDJ8PPmgPNYk","cells":"Sheet1!A2:D30","name":"","x":270,"y":260,"wires":[["2997d652.205ada"]]},{"id":"d8ef1e3b.fa81e","type":"inject","z":"107fbf25.7f0f21","name":"","props":[{"p":"payload"},{"p":"topic","vt":"str"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"","payloadType":"date","x":200,"y":120,"wires":[["a266b0f9.ba733"]]},{"id":"2997d652.205ada","type":"debug","z":"107fbf25.7f0f21","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","statusVal":"","statusType":"auto","x":370,"y":400,"wires":[]},{"id":"432fde28.c3796","type":"comment","z":"107fbf25.7f0f21","name":"ConfiguringThe Authorization Details To Get SpreadSheet Data ","info":"","x":290,"y":180,"wires":[]},{"id":"d40ce4d2.6bdac8","type":"comment","z":"107fbf25.7f0f21","name":"Welcome To Node Red Tutorials","info":"","x":330,"y":40,"wires":[]},{"id":"efdddb0.806d928","type":"comment","z":"107fbf25.7f0f21","name":"Output from SpreadSheet","info":"","x":430,"y":360,"wires":[]},{"id":"fff22309.53f72","type":"GSheet","z":"3c130947.4fa0a6","creds":"d73ff424.05ada8","method":"get","action":"","sheet":"1bah3LZNYEj-N3mfE90vkeSiDhWuXut2LDJ8PPmgPNYk","cells":"Sheet1!A2:D30","name":"","x":230,"y":260,"wires":[["784b5231.b23c3c","4e1585a8.b9c23c"]]},{"id":"9f2c02b9.fb667","type":"inject","z":"3c130947.4fa0a6","name":"","props":[{"p":"payload"},{"p":"topic","vt":"str"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"","payloadType":"date","x":160,"y":120,"wires":[["fff22309.53f72"]]},{"id":"784b5231.b23c3c","type":"debug","z":"3c130947.4fa0a6","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","statusVal":"","statusType":"auto","x":330,"y":400,"wires":[]},{"id":"889b8ae0.70b868","type":"comment","z":"3c130947.4fa0a6","name":"ConfiguringThe Authorization Details To Get SpreadSheet Data ","info":"","x":250,"y":180,"wires":[]},{"id":"822412e6.67407","type":"comment","z":"3c130947.4fa0a6","name":"Welcome To Node Red Tutorials","info":"","x":290,"y":40,"wires":[]},{"id":"f17bd5f7.971588","type":"comment","z":"3c130947.4fa0a6","name":"Output from SpreadSheet","info":"","x":390,"y":360,"wires":[]},{"id":"2d06debd.853992","type":"mongodb2 in","z":"3c130947.4fa0a6","service":"_ext_","configNode":"5c97dbe3.5ec884","name":"","collection":"admin","operation":"insert","x":630,"y":200,"wires":[[]]},{"id":"4e1585a8.b9c23c","type":"json","z":"3c130947.4fa0a6","name":"","property":"payload","action":"","pretty":false,"x":410,"y":220,"wires":[["2d06debd.853992"]]},{"id":"1d913918.df3547","type":"pdfmake","z":"fdbe51f4.3b6a9","name":"pdf generater","outputType":"Buffer","inputProperty":"payload","options":"{}","outputProperty":"payload","x":470,"y":240,"wires":[["cdfd5666.91d048"]]},{"id":"e343f6f6.b5eae8","type":"inject","z":"fdbe51f4.3b6a9","name":"","props":[{"p":"payload"},{"p":"topic","vt":"str"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"{   \"content\": [     \"welcome to node red tutorial\",     \"Like share and subscribe\"   ] }","payloadType":"json","x":270,"y":160,"wires":[["1d913918.df3547"]]},{"id":"cdfd5666.91d048","type":"file","z":"fdbe51f4.3b6a9","name":"","filename":"G:\\New folder\\data\\test.pdf","appendNewline":true,"createDir":false,"overwriteFile":"false","encoding":"none","x":580,"y":320,"wires":[["eb436587.f8cac8"]]},{"id":"fa4653a9.f7825","type":"comment","z":"fdbe51f4.3b6a9","name":"Simple Example PDF","info":"This is the simplest PDF test as seen in the pdfmake examples [here](http://pdfmake.org/playground.html)","x":500,"y":120,"wires":[]},{"id":"eb436587.f8cac8","type":"debug","z":"fdbe51f4.3b6a9","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","statusVal":"","statusType":"auto","x":730,"y":380,"wires":[]},{"id":"61146f0c.48b1d","type":"alafile in","z":"fdbe51f4.3b6a9","name":"My Profile","filename":"G:\\New folder\\myprofile","format":"xlsx","columns":"*","headers":true,"x":220,"y":220,"wires":[["44478fd4.639a5"]]},{"id":"a4257fb7.0e4de","type":"inject","z":"fdbe51f4.3b6a9","name":"","props":[{"p":"payload"},{"p":"topic","vt":"str"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"","payloadType":"date","x":100,"y":60,"wires":[["61146f0c.48b1d"]]},{"id":"44478fd4.639a5","type":"function","z":"fdbe51f4.3b6a9","name":"","func":"","outputs":1,"noerr":0,"initialize":"","finalize":"","x":210,"y":300,"wires":[["15435a6.08000a6"]]},{"id":"15435a6.08000a6","type":"debug","z":"fdbe51f4.3b6a9","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","targetType":"msg","statusVal":"","statusType":"auto","x":330,"y":420,"wires":[]},{"id":"1f63208b.92f4ef","type":"markdown","z":"5b3883a5.da9acc","name":"","x":470,"y":240,"wires":[["52c35591.5155cc","ea184b34.e97578"]]},{"id":"a6bff974.57a238","type":"function","z":"5b3883a5.da9acc","name":"","func":"msg.string ='__WELCOME TO NODE RED TUTORIALS:)__\\n'+\n'- __[NodeRed Channel](https://nodeca.github.io/pica/demo/)__ - Node Red Youtube Channel\\n\\n'+ \n'- __[NodeRed-GitHub](https://github.com/joshi-sandeep/Nodered)__ - Biggner developers friendly\\n'+\n  'Like Share And Subscribe The Channel.'\n \nconsole.log(msg);\nmsg.payload = msg.string\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":140,"y":160,"wires":[["1f63208b.92f4ef","68d3c3a6.d2c6cc"]]},{"id":"3c2eed36.2911d2","type":"http in","z":"5b3883a5.da9acc","name":"","url":"/data","method":"get","upload":false,"swaggerDoc":"","x":160,"y":80,"wires":[["a6bff974.57a238"]]},{"id":"52c35591.5155cc","type":"http response","z":"5b3883a5.da9acc","name":"","statusCode":"","headers":{},"x":730,"y":300,"wires":[]},{"id":"ea184b34.e97578","type":"debug","z":"5b3883a5.da9acc","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","statusVal":"","statusType":"auto","x":700,"y":220,"wires":[]},{"id":"68d3c3a6.d2c6cc","type":"debug","z":"5b3883a5.da9acc","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","statusVal":"","statusType":"auto","x":450,"y":140,"wires":[]},{"id":"d07b7040.c20b8","type":"comment","z":"650a4bd3.ee6b04","name":" Demo of String Input converting it into an html string.","info":"","x":540,"y":140,"wires":[]},{"id":"bb71e692.483d38","type":"http in","z":"650a4bd3.ee6b04","name":"input string","url":"/string","method":"get","upload":false,"swaggerDoc":"","x":290,"y":260,"wires":[["cc784aa.1884fb8"]]},{"id":"cc784aa.1884fb8","type":"function","z":"650a4bd3.ee6b04","name":"","func":"msg.string ='## Tables\\n'+\n'| Option | Description |\\n'+\n'| ------ | ----------- |\\n'+\n'| data   | path to data files to supply the data that will be passed into templates. |\\n'+\n'| engine | engine to be used for processing templates. Handlebars is the default. |\\n'+\n'| ext    | extension to be used for dest files. |\\n'+\n\n'![Minion](https://octodex.github.com/images/minion.png)'+\n'![Stormtroopocat](https://octodex.github.com/images/stormtroopocat.jpg \"The Stormtroopocat\")'\n\n\n\n \nconsole.log(msg);\nmsg.payload = msg.string\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":410,"y":340,"wires":[["17cd38d5.d93097"]]},{"id":"17cd38d5.d93097","type":"markdown","z":"650a4bd3.ee6b04","name":"convert  string to html","x":610,"y":340,"wires":[["723662a8.d160ec","33b0b55b.08f70a"]]},{"id":"723662a8.d160ec","type":"http response","z":"650a4bd3.ee6b04","name":"output","statusCode":"","headers":{},"x":800,"y":260,"wires":[]},{"id":"33b0b55b.08f70a","type":"debug","z":"650a4bd3.ee6b04","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","statusVal":"","statusType":"auto","x":820,"y":440,"wires":[]},{"id":"d64ba73f.9fa958","type":"inject","z":"f82da501.44f058","name":"10SecBump","props":[{"p":"payload"},{"p":"topic","vt":"str"}],"repeat":"10","crontab":"","once":true,"onceDelay":0.1,"topic":"","payload":"","payloadType":"date","x":230,"y":300,"wires":[["b3bfdca0.b4918"]]},{"id":"dc3115d8.3d9c48","type":"debug","z":"f82da501.44f058","name":"Debug","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","targetType":"msg","x":960,"y":300,"wires":[]},{"id":"fa4ea5dc.280178","type":"calculate","z":"f82da501.44f058","name":"AvgEveryMinute","pauseType":"timed","calculation":"average","timeout":"1","timeoutUnits":"minutes","rate":"10","x":690,"y":180,"wires":[["dc3115d8.3d9c48"]]},{"id":"f51bc7b2.488af8","type":"calculate","z":"f82da501.44f058","name":"AvgEvery10Msg","pauseType":"rate","calculation":"average","timeout":"10","timeoutUnits":"seconds","rate":"10","x":690,"y":240,"wires":[["dc3115d8.3d9c48"]]},{"id":"23156601.6718ca","type":"calculate","z":"f82da501.44f058","name":"MedEveryMinute","pauseType":"timed","calculation":"median","timeout":"1","timeoutUnits":"minutes","rate":"10","x":700,"y":320,"wires":[["dc3115d8.3d9c48"]]},{"id":"751b0d46.b674e4","type":"calculate","z":"f82da501.44f058","name":"MinEveryMinute","pauseType":"timed","calculation":"min","timeout":"1","timeoutUnits":"minutes","rate":"10","x":690,"y":380,"wires":[["dc3115d8.3d9c48"]]},{"id":"4526e627.0c2608","type":"calculate","z":"f82da501.44f058","name":"MaxEveryMinute","pauseType":"timed","calculation":"max","timeout":"1","timeoutUnits":"minutes","rate":"10","x":700,"y":440,"wires":[["dc3115d8.3d9c48"]]},{"id":"b3bfdca0.b4918","type":"random","z":"f82da501.44f058","name":"RandomNumber","low":"1","high":"100","inte":"true","property":"payload","x":430,"y":300,"wires":[["fa4ea5dc.280178","f51bc7b2.488af8","23156601.6718ca","751b0d46.b674e4","4526e627.0c2608"]]},{"id":"de5862e0.e42ec","type":"e-mail in","z":"94bcb78b.87f818","d":true,"name":"get my mail","protocol":"IMAP","server":"imap.gmail.com","useSSL":true,"port":"993","box":"INBOX","disposition":"None","criteria":"UNSEEN","repeat":"60","fetch":"auto","inputs":0,"x":250,"y":280,"wires":[["1624a3cd.6a0f8c","6a74644.eb0649c"]]},{"id":"f01d2c47.240ca","type":"debug","z":"94bcb78b.87f818","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","statusVal":"","statusType":"auto","x":750,"y":200,"wires":[]},{"id":"1624a3cd.6a0f8c","type":"debug","z":"94bcb78b.87f818","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","statusVal":"","statusType":"auto","x":510,"y":380,"wires":[]},{"id":"6a74644.eb0649c","type":"file","z":"94bcb78b.87f818","name":"writing a file","filename":"G:\\New folder\\mail.txt","appendNewline":true,"createDir":true,"overwriteFile":"false","encoding":"none","x":510,"y":200,"wires":[["f01d2c47.240ca"]]},{"id":"10c15ed0.8628a1","type":"comment","z":"94bcb78b.87f818","name":"Demo On Fetching the data From Mail","info":"","x":530,"y":100,"wires":[]},{"id":"689138e4.42a1a8","type":"comment","z":"94bcb78b.87f818","name":"Storing data in File","info":"","x":550,"y":240,"wires":[]},{"id":"bcb78983.1384c8","type":"amazon s3","z":"6c27771f.70ffd8","aws":"987865ad.d791f8","bucket":"noderedfile","filename":"markdown-string.txt","region":"us-east-1","name":"Fetch Data From S3","x":360,"y":160,"wires":[["b4a19f69.3c5b2"]]},{"id":"b4a19f69.3c5b2","type":"function","z":"6c27771f.70ffd8","name":"","func":"var  bufferOriginal = msg.payload;\n\nconsole.log(bufferOriginal.toString('utf8'));\n\nmsg.payload = bufferOriginal.toString('utf8')\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":620,"y":160,"wires":[["3c407269.7080ce","56890df5.7a00c4"]]},{"id":"3c407269.7080ce","type":"debug","z":"6c27771f.70ffd8","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","statusVal":"","statusType":"auto","x":750,"y":300,"wires":[]},{"id":"80e72610.8c37a8","type":"http in","z":"6c27771f.70ffd8","name":"markdown string","url":"/markdown","method":"get","upload":false,"swaggerDoc":"","x":120,"y":160,"wires":[["bcb78983.1384c8"]]},{"id":"5e1743c6.027c4c","type":"http response","z":"6c27771f.70ffd8","name":"","statusCode":"","headers":{},"x":990,"y":160,"wires":[]},{"id":"56890df5.7a00c4","type":"markdown","z":"6c27771f.70ffd8","name":"convert string to html format","x":800,"y":40,"wires":[["5e1743c6.027c4c"]]},{"id":"d0f567af.ae3df8","type":"amazon s3 out","z":"6c27771f.70ffd8","aws":"987865ad.d791f8","bucket":"noderedfile","filename":"markdown-string.txt","localFilename":"G:\\New folder\\markdown-string.txt","region":"us-east-1","name":"","x":481,"y":380,"wires":[]},{"id":"8d2850d4.8286b","type":"inject","z":"6c27771f.70ffd8","name":"","props":[{"p":"payload"},{"p":"topic","vt":"str"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"","payloadType":"date","x":160,"y":380,"wires":[["d0f567af.ae3df8"]]},{"id":"1103351d.97c11b","type":"comment","z":"6c27771f.70ffd8","name":"Uploading The File To S3","info":"","x":360,"y":320,"wires":[]},{"id":"7cc9444d.0d5a9c","type":"comment","z":"6c27771f.70ffd8","name":"Fetching File From S3 and Displaying In Web Page","info":"","x":400,"y":100,"wires":[]},{"id":"bfbc921d.f104b","type":"comment","z":"6c27771f.70ffd8","name":"step 1","info":"","x":70,"y":340,"wires":[]},{"id":"47ef5a84.e6b134","type":"comment","z":"6c27771f.70ffd8","name":"step 2","info":"","x":90,"y":100,"wires":[]},{"id":"e92a5afe.93fab8","type":"HTML-PDF","z":"e2ebe170.1b0d2","name":"HTML-PDF","output":"string","x":450,"y":240,"wires":[["bd0a8d55.ae7d9"]]},{"id":"bbf916ba.89aeb8","type":"inject","z":"e2ebe170.1b0d2","name":"","props":[{"p":"payload"},{"p":"topic","vt":"str"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"<html> <!-- Text between angle brackets is an HTML tag and is not displayed. Most tags, such as the HTML and /HTML tags that surround the contents of a page, come in pairs; some tags, like HR, for a horizontal rule, stand  alone. Comments, such as the text you're reading, are not displayed when the Web page is shown. The information between the HEAD and /HEAD tags is  not displayed. The information between the BODY and /BODY tags is displayed.--> <head> <title>Enter a title, displayed at the top of the window.</title> </head> <!-- The information between the BODY and /BODY tags is displayed.--> <body> <h1>Enter the main heading, usually the same as the title.</h1> <p>Be <b>bold</b> in stating your key points. Put them in a list: </p> <ul> <li>The first item in your list</li> <li>The second item; <i>italicize</i> key words</li> </ul> <p>Improve your image by including an image. </p> <p><img src=\"http://www.mygifs.com/CoverImage.gif\" alt=\"A Great HTML Resource\"></p> <p>Add a link to your favorite <a href=\"https://www.dummies.com/\">Web site</a>. Break up your page with a horizontal rule or two. </p> <hr> <p>Finally, link to <a href=\"page2.html\">another page</a> in your own Web site.</p> <!-- And add a copyright notice.--> <p>&#169; Wiley Publishing, 2011</p> </body> </html>","payloadType":"str","x":180,"y":100,"wires":[["e92a5afe.93fab8"]]},{"id":"bd0a8d55.ae7d9","type":"debug","z":"e2ebe170.1b0d2","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","statusVal":"","statusType":"auto","x":690,"y":340,"wires":[]},{"id":"943d4ab1.c83ed8","type":"function","z":"e2ebe170.1b0d2","name":"","func":"\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":290,"y":300,"wires":[[]]},{"id":"551b4f5d.c8e82","type":"debug","z":"e2ebe170.1b0d2","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","statusVal":"","statusType":"auto","x":550,"y":80,"wires":[]},{"id":"6cb81466.41467c","type":"debug","z":"1a70f6ac.85edb9","name":"debug","active":true,"console":"false","complete":"true","x":610,"y":200,"wires":[]},{"id":"26fc3946.579c16","type":"inject","z":"1a70f6ac.85edb9","name":"1","repeat":"","crontab":"","once":false,"topic":"name_one","payload":"1","payloadType":"num","x":210,"y":80,"wires":[["594a0a47.085694"]]},{"id":"71dfe9b.accf218","type":"inject","z":"1a70f6ac.85edb9","name":"2","repeat":"","crontab":"","once":false,"topic":"name_two","payload":"2","payloadType":"num","x":210,"y":120,"wires":[["594a0a47.085694"]]},{"id":"dc4b99fb.785208","type":"inject","z":"1a70f6ac.85edb9","name":"3","repeat":"","crontab":"","once":false,"topic":"name_three","payload":"3","payloadType":"num","x":210,"y":160,"wires":[["594a0a47.085694"]]},{"id":"a6317efb.28b68","type":"inject","z":"1a70f6ac.85edb9","name":"4","props":[{"p":"payload","v":"4","vt":"num"},{"p":"topic","v":"name_four","vt":"string"}],"repeat":"","crontab":"","once":false,"topic":"name_four","payload":"4","payloadType":"num","x":210,"y":200,"wires":[["594a0a47.085694"]]},{"id":"594a0a47.085694","type":"average","z":"1a70f6ac.85edb9","name":"","topic":"","x":480,"y":200,"wires":[["6cb81466.41467c"]]},{"id":"15bb6bd6.6b0614","type":"inject","z":"1a70f6ac.85edb9","name":"reset","repeat":"","crontab":"","once":false,"topic":"","payload":"","payloadType":"date","x":210,"y":240,"wires":[["8bc7e18e.e184e"]]},{"id":"8bc7e18e.e184e","type":"function","z":"1a70f6ac.85edb9","name":"msg","func":"msg.reset = true;\nreturn msg;","outputs":1,"noerr":0,"x":330,"y":240,"wires":[["594a0a47.085694"]]},{"id":"88372326.1e2f3","type":"ui_template","z":"9f1e26f5.f2ee78","group":"5f8647ef.ce7e98","name":"Bubble Chart (static)","order":2,"width":"8","height":"8","format":"<canvas id=\"bubble-static\" width=\"1\" height=\"1\" style=\"border:1px solid #000000;\"></canvas>\n\n<script>\nnew Chart(document.getElementById(\"bubble-static\"), {\n    type: 'bubble',\n    data: {\n      labels: \"label\",\n      datasets: [\n        {\n          label: \"Bases\",\n          backgroundColor: \"rgba(255, 216, 0, 1.0)\",\n          borderColor: \"#000\",\n          data: [\n          \t{ x: -85, y: 79,    r: 2 },\n          \t{ x: 385, y: -279,  r: 2 },\n          \t{x: 207,  y: -461,  r: 2 },\n          \t{x: 262,  y: -548,  r: 2 },\n          \t{x: 388,  y: -1320, r: 2 },\n          \t{x: 415,  y: 185,   r: 2 },\n          \t{x: 584,  y: -1100, r: 2 }\n          ]\n        }, {\n          label: [\"POI\"], \n          backgroundColor: \"rgba(72, 255, 70,1.0)\",\n          borderColor: \"#000\",\n          data: [\n          \t{x: 106, y: -381,  r: 2 },\n          \t{x: 174, y: -119,  r: 2 },\n          \t{x: 185, y: -780,  r: 2 },\n          \t{x: 244, y: -1113, r: 2 },\n          \t{x: 261, y: -1319, r: 2 },\n          \t{x: 296, y: -100,  r: 2 }\n\t\t  ]\n        }\n      ]\n    },\n    options: {\n        legend: {\n            display: true,\n            labels: {\n                fontColor: 'rgb(255, 99, 132)'\n            }\n        },\n      title: {\n        display: true,\n        text: 'Demo1: static Bubble chart'\n      }, scales: {\n        yAxes: [{ \n          scaleLabel: {\n            display: true,\n            labelString: \"yAxes\"\n          }\n        }],\n        xAxes: [{ \n          scaleLabel: {\n            display: true,\n            labelString: \"xAxes\"\n          }\n        }]\n      }\n    }\n});\n\n</script>\n","storeOutMessages":true,"fwdInMessages":true,"templateScope":"local","x":300,"y":200,"wires":[[]]},{"id":"2e1924f.13c67dc","type":"debug","z":"f6e3b29d.18f65","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","x":470,"y":220,"wires":[]},{"id":"32d7a170.cfd33e","type":"debug","z":"f6e3b29d.18f65","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","x":470,"y":280,"wires":[]},{"id":"38695411.86951c","type":"function","z":"f6e3b29d.18f65","name":"Build two cumulating random datasets","func":"// this is where you define the legend for \n// the datasets\nvar title = \"Demo3: random growing Bubble chart\";\nvar legend1 = \"legend1\";\nvar legend2 = \"legend2\";\n\n// variables to be used to \nvar i, x, y, r, data1, data2;\n// initialise the counter to 0 if it doesn't exist already\nvar data1 = flow.get('data1')||'';\nvar data2 = flow.get('data2')||'';\n\nvar count = flow.get('count')||0;\ncount += 1;\nif (count > 15) {\n    count = 1;\n    data1 = '{x: 100,  y: 100,  r: 1},'; // Force the size of the\n    data2 = '{x: -100, y: -100, r: 1},'; // plot so it won't resize\n} \n// store the value back\nflow.set('count',count);\n// make it part of the outgoing msg object\nmsg.count = count;\n\n// for dataset #1\n// this code generates one x/y point \n// between -100 and +100 and a random \n//size between 1 and 10\n//node.warn(\"db1=\"+data1);\nx = getRndInteger(-100,100);\ny = getRndInteger(-100,100);\nr = getRndInteger(0,10);\ndata1 += \"{x: \"+x+\", y: \"+y+\", r: \"+r+\"},\";\n//node.warn(\"db2=\"+data1);\n// this line removes the last comma to end the dataset\ndata1 = data1.replace(/^(.*),(.*?)$/, '$1')\n\n// for dataset #2\n// this code generates one x/y point \n// between -100 and +100 and a random \n//size between 1 and 10\n\nx = getRndInteger(-100,100);\ny = getRndInteger(-100,100);\nr = getRndInteger(1,10);\ndata2 += \"{x: \"+x+\", y: \"+y+\", r: \"+r+\"},\";\n\n// this line removes the last comma to end the dataset\ndata2 = data2.replace(/^(.*),(.*?)$/, '$1')\n\n// Now we build msg.payload\nmsg.payload = { \"title\"   : title,\n                \"legend1\" : legend1,\n                \"data1\"   : data1,\n                \"legend2\" : legend2,\n                \"data2\"   : data2};\ndata1 += \",\";\ndata2 += \",\";\n\nflow.set([\"data1\", \"data2\"], [data1, data2]);\nreturn msg;\n\n// this code gets a random interger\nfunction getRndInteger(min, max) {\n    return Math.floor(Math.random() * (max - min + 1) ) + min;\n}\n","outputs":1,"noerr":0,"x":230,"y":160,"wires":[["4c247c8d.e8f4f4","29e1e09e.8cf49"]]},{"id":"4c247c8d.e8f4f4","type":"debug","z":"f6e3b29d.18f65","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","x":470,"y":160,"wires":[]},{"id":"2b1ec4bf.7c8d5c","type":"inject","z":"f6e3b29d.18f65","name":"Inject every second","repeat":"1","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"","payloadType":"str","x":180,"y":100,"wires":[["38695411.86951c"]]},{"id":"29e1e09e.8cf49","type":"template","z":"f6e3b29d.18f65","name":"Create the msg.template to use","field":"template","fieldType":"msg","format":"html","syntax":"mustache","template":"<canvas id=\"bubble-chart\" width=\"1\" height=\"1\" style=\"border:1px solid #000000;\"></canvas>\n\n<script>\nnew Chart(document.getElementById(\"bubble-chart\"), {\n    type: 'bubble',\n    data: {\n      labels: \"label\",\n      datasets: [\n        {\n          label: \"{{{payload.legend1}}}\",\n          backgroundColor: \"rgba(65, 72, 255, 1.0000)\",\n          borderColor: \"#000\",\n          data: [\n            {{{payload.data1}}}\n\n          ]\n        }, {\n          label: [\"{{{payload.legend2}}}\"], \n          backgroundColor: \"rgba(255, 45, 36, 1.0000)\",\n          borderColor: \"#000\",\n          data: [\n              {{{payload.data2}}}\n\t\t  ]\n        }\n      ]\n    },\n    options: {\n        animation: false,\n        legend: {\n            display: true,\n            labels: {\n                fontColor: 'rgb(255, 99, 132)'\n            }\n        },\n    title: {\n        display: true,\n        text: '{{{payload.title}}}'\n      }, scales: {\n        yAxes: [{ \n          scaleLabel: {\n            display: true,\n            labelString: \"yAxes\"\n          }\n        }],\n        xAxes: [{ \n          scaleLabel: {\n            display: true,\n            labelString: \"xAxes\"\n          }\n        }]\n      }\n    }\n});\n\n</script>\n","output":"str","x":210,"y":220,"wires":[["2e1924f.13c67dc","f410d9d.0337828"]]},{"id":"e8a9b1d4.c47f5","type":"comment","z":"f6e3b29d.18f65","name":"Dynamic Bubble chart adding new points (up to 15)","info":"This demo creates a ","x":250,"y":40,"wires":[]},{"id":"f410d9d.0337828","type":"ui_template","z":"f6e3b29d.18f65","group":"c1b9b463.5c57d8","name":"Bubble (dynamic growing)","order":2,"width":"8","height":"8","format":"this will be ignored","storeOutMessages":false,"fwdInMessages":true,"templateScope":"local","x":190,"y":280,"wires":[["32d7a170.cfd33e"]]},{"id":"6402e908.704a88","type":"inject","z":"f6e3b29d.18f65","name":"Description","repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"This demo creates a bubble chart showing how you could dynamically add points to the plot. It initially creates two points (100, 100 and -100, -100) to create a fixed size area for the plot.  <br><br> It then reiterates 15 times adding a point to each dataset and displaying the plot again. It also removes the animation so the points just appear on the plot.","payloadType":"str","x":150,"y":340,"wires":[["9a08908e.14055"]]},{"id":"76999e3c.3e049","type":"debug","z":"277a2551.7a966a","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","x":470,"y":220,"wires":[]},{"id":"980fbf15.91733","type":"debug","z":"277a2551.7a966a","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","x":470,"y":280,"wires":[]},{"id":"78413f2e.36919","type":"function","z":"277a2551.7a966a","name":"Build the datsets to be displayed","func":"// this is where you define the legend for \n// the datasets\nvar title = \"Demo2: dynamic random Bubble chart\";\nvar legend1 = \"legend1\";\nvar legend2 = \"legend2\";\n\n// variables to be used to \nvar i, x, y, r, data1, data2;\nvar data1 = '';\nvar data2 = '';\n\n// for dataset #1\n// this code generates between 3 and 25 random\n// x/y points each between -100 and +100\n// and a random size between 1 and 2\nvar data_items = getRndInteger(3,15);\n\nfor (i = 0; i < data_items; i++) {\n    x = getRndInteger(-100,100);\n    y = getRndInteger(-100,100);\n    r = getRndInteger(0,2);\n    data1 += \"{x: \"+x+\", y: \"+y+\", r: \"+r+\"},\";\n}\n// this line removes the last comma to end the dataset\ndata1 = data1.replace(/^(.*),(.*?)$/, '$1')\nmsg.payload = {\"data1\": data1};\n\n// for dataset #2\n// this code generates between 3 and 25 random\n// x/y points each between -100 and +100\n// and a random size between 1 and 2\n\n    data_items = getRndInteger(3,15);\n\nfor (i = 0; i < data_items; i++) {\n    x = getRndInteger(-100,100);\n    y = getRndInteger(-100,100);\n    r = getRndInteger(1,2);\n    data2 += \"{x: \"+x+\", y: \"+y+\", r: \"+r+\"},\";\n}\n// this line removes the last comma to end the dataset\ndata2 = data2.replace(/^(.*),(.*?)$/, '$1')\n\n// Now we build msg.payload\nmsg.payload = { \"title\"   : title,\n                \"legend1\" : legend1,\n                \"data1\"   : data1,\n                \"legend2\" : legend2,\n                \"data2\"   : data2};\nreturn msg;\n\n// this code gets a random interger\nfunction getRndInteger(min, max) {\n    return Math.floor(Math.random() * (max - min + 1) ) + min;\n}\n","outputs":1,"noerr":0,"x":220,"y":160,"wires":[["2425ff89.b1f91","ee4e1f25.b0cfc"]]},{"id":"2425ff89.b1f91","type":"debug","z":"277a2551.7a966a","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","x":470,"y":160,"wires":[]},{"id":"58a4500a.28d8d","type":"inject","z":"277a2551.7a966a","name":"","repeat":"3","crontab":"","once":true,"onceDelay":0.1,"topic":"","payload":"Inject every 3 seconds","payloadType":"str","x":190,"y":100,"wires":[["78413f2e.36919"]]},{"id":"ee4e1f25.b0cfc","type":"template","z":"277a2551.7a966a","name":"Create the msg.template to use","field":"template","fieldType":"msg","format":"html","syntax":"mustache","template":"<canvas id=\"bubble-chart\" width=\"1\" height=\"1\" style=\"border:1px solid #000000;\"></canvas>\n\n<script>\nnew Chart(document.getElementById(\"bubble-chart\"), {\n    type: 'bubble',\n    data: {\n      labels: \"label\",\n      datasets: [\n        {\n          label: \"{{{payload.legend1}}}\",\n          backgroundColor: \"rgba(65, 72, 255, 1.0000)\",\n          borderColor: \"#000\",\n          data: [\n            {{{payload.data1}}}\n\n          ]\n        }, {\n          label: [\"{{{payload.legend2}}}\"], \n          backgroundColor: \"rgba(255, 45, 36, 1.0000)\",\n          borderColor: \"#000\",\n          data: [\n              {{{payload.data2}}}\n\t\t  ]\n        }\n      ]\n    },\n    options: {\n        legend: {\n            display: true,\n            labels: {\n                fontColor: 'rgb(255, 99, 132)'\n            }\n        },\n    title: {\n        display: true,\n        text: '{{{payload.title}}}'\n      }, scales: {\n        yAxes: [{ \n          scaleLabel: {\n            display: true,\n            labelString: \"yAxes\"\n          }\n        }],\n        xAxes: [{ \n          scaleLabel: {\n            display: true,\n            labelString: \"xAxes\"\n          }\n        }]\n      }\n    }\n});\n\n</script>\n","output":"str","x":210,"y":220,"wires":[["76999e3c.3e049","87da64b8.c87008"]]},{"id":"17ddff43.57f841","type":"comment","z":"277a2551.7a966a","name":"Dynamic Bubble chart with 15 points per dataset","info":"","x":240,"y":40,"wires":[]},{"id":"c80d6c63.75d42","type":"inject","z":"277a2551.7a966a","name":"Description","repeat":"","crontab":"","once":true,"onceDelay":0.1,"topic":"","payload":"This demo creates a bubble chart showing how you could, in a 'function' node,  dynamically add points to the datasets sent to the chart. <br><br>It creates 15 random data points for each dataset and then sends the entire set of points at one time, waits 3 seconds and repeats.","payloadType":"str","x":150,"y":340,"wires":[["ff9146ac.444c48"]]},{"id":"f598b454.9af898","type":"ui_text","z":"9f1e26f5.f2ee78","group":"5f8647ef.ce7e98","order":1,"width":"8","height":"3","name":"demo 1 description","label":"","format":"{{msg.payload}}","layout":"col-center","x":510,"y":340,"wires":[]},{"id":"2e6a9828.d05328","type":"inject","z":"9f1e26f5.f2ee78","name":"Description","repeat":"","crontab":"","once":true,"onceDelay":0.1,"topic":"","payload":"This demo creates a bubble chart showing how you could statically add the points in the ui_template node.<br><br> While this is not very useful, it is the basis of the dynamic charts in the other tabs. ","payloadType":"str","x":150,"y":340,"wires":[["f598b454.9af898"]]},{"id":"87da64b8.c87008","type":"ui_template","z":"277a2551.7a966a","group":"adddf7b7.0d46b8","name":"Bubble (dynamic)","order":2,"width":"8","height":"8","format":"this will be ignored","storeOutMessages":false,"fwdInMessages":true,"templateScope":"local","x":170,"y":280,"wires":[["980fbf15.91733"]]},{"id":"ff9146ac.444c48","type":"ui_text","z":"277a2551.7a966a","group":"adddf7b7.0d46b8","order":1,"width":"8","height":"3","name":"demo 2 description","label":"","format":"{{msg.payload}}","layout":"col-center","x":510,"y":340,"wires":[]},{"id":"234ebeb6.e7f2b2","type":"comment","z":"9f1e26f5.f2ee78","name":"Static Bubble chart with 15 points per dataset","info":"","x":310,"y":100,"wires":[]},{"id":"9a08908e.14055","type":"ui_text","z":"f6e3b29d.18f65","group":"c1b9b463.5c57d8","order":1,"width":"8","height":"3","name":"demo 3 description","label":"","format":"{{msg.payload}}","layout":"col-center","x":510,"y":340,"wires":[]},{"id":"6ba881d4.5c939","type":"http in","z":"c00e21aa.301e2","name":"","url":"/facebook","method":"get","upload":false,"swaggerDoc":"","x":200,"y":260,"wires":[["8a9fcf78.83155"]]},{"id":"8a9fcf78.83155","type":"change","z":"c00e21aa.301e2","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"req.query.message","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":260,"y":400,"wires":[["f8c47de.676748"]]},{"id":"acb8aa53.aa0848","type":"function","z":"c00e21aa.301e2","name":"","func":"var wc_output = [];\nif(msg.payload.output.text)\n{\n    for(x=0;x<msg.payload.output.text.length;x++)\n    {\n        wc_output[x] = {\"text\":msg.payload.output.text[x]};\n    }\n    msg.payload = wc_output;\n    return msg;\n}\nreturn null;\n","outputs":1,"noerr":0,"x":690,"y":340,"wires":[["2a793f13.708d1"]]},{"id":"2a793f13.708d1","type":"http response","z":"c00e21aa.301e2","name":"","statusCode":"","headers":{},"x":790,"y":240,"wires":[]},{"id":"bdd7d876.6e44d8","type":"comment","z":"c00e21aa.301e2","name":"How to connect Watson Assistant to Facebook Messenger thru ChatFuel","info":"Watch the follwoing video to see how to connect  Watson Assistant to Facebook Messenger thru ChatFuel\n\nhttps://www.youtube.com/watch?v=Oni7g2uK9PM","x":440,"y":220,"wires":[]},{"id":"f8c47de.676748","type":"watson-conversation-v1","z":"c00e21aa.301e2","name":"","workspaceid":"917de967-1975-4535-a4ea-101f5023d211","multiuser":false,"context":true,"empty-payload":false,"service-endpoint":"https://gateway.watsonplatform.net/conversation/api","timeout":"","optout-learning":false,"x":500,"y":420,"wires":[["acb8aa53.aa0848"]]},{"id":"f353281a.db5508","type":"json2md","z":"e59f2590.332fb8","name":"Parse json to markdown","x":370,"y":240,"wires":[["19220f7a.fce371"]]},{"id":"bf68501d.979ad","type":"http in","z":"e59f2590.332fb8","name":"","url":"/md","method":"get","upload":false,"swaggerDoc":"","x":100,"y":120,"wires":[["e4f9ade3.7953b"]]},{"id":"e4f9ade3.7953b","type":"function","z":"e59f2590.332fb8","name":"","func":"msg.payload = [\n   [ {\n        \"a\": \"11\",\n        \"b\": \"22\",\n        \"c\": \"33\",\n        \"d\": \"44\"\n    },\n    ],\n    \n    [\n    {\n        \"a\": \"55\",\n        \"b\": \"66\",\n        \"c\": \"77\",\n        \"d\": \"88\"\n    }\n    ]\n]\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":170,"y":200,"wires":[["f353281a.db5508"]]},{"id":"19220f7a.fce371","type":"http response","z":"e59f2590.332fb8","name":"","statusCode":"","headers":{},"x":580,"y":240,"wires":[]},{"id":"fac2518d.bc7ea","type":"sun-position","z":"32ef96de.41a4ea","name":"","positionConfig":"cdba260a.4afa38","rules":[],"onlyOnChange":"true","topic":"","outputs":1,"start":"sunset","startType":"pdsTime","startOffset":0,"startOffsetType":"none","startOffsetMultiplier":60000,"end":"","endType":"none","endOffset":0,"endOffsetType":"none","endOffsetMultiplier":60000,"x":400,"y":240,"wires":[["57571e29.5cfc7"]]},{"id":"3512d7dc.906ea8","type":"inject","z":"32ef96de.41a4ea","name":"","props":[{"p":"payload"},{"p":"topic","vt":"str"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"","payloadType":"date","x":270,"y":180,"wires":[["fac2518d.bc7ea"]]},{"id":"57571e29.5cfc7","type":"debug","z":"32ef96de.41a4ea","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","statusVal":"","statusType":"auto","x":420,"y":340,"wires":[]},{"id":"a89272d8.64448","type":"unit-converter","z":"d5bb42a1.96948","category":"length","inputUnit":"m","outputUnit":"km","inputField":"payload","outputField":"payload","inputFieldType":"msg","outputFieldType":"msg","roundOutputField":false,"outputFieldDecimals":2,"name":"","x":450,"y":180,"wires":[["a5be9158.ee977"]]},{"id":"5147259b.018d7c","type":"inject","z":"d5bb42a1.96948","name":"","props":[{"p":"payload"},{"p":"topic","vt":"str"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"122245","payloadType":"str","x":220,"y":160,"wires":[["a89272d8.64448"]]},{"id":"a5be9158.ee977","type":"debug","z":"d5bb42a1.96948","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","statusVal":"","statusType":"auto","x":560,"y":120,"wires":[]},{"id":"82551759.bc6258","type":"debug","z":"6987d1e.120b43","name":"","active":true,"console":"false","complete":"false","x":550,"y":180,"wires":[]},{"id":"c3241da0.f6a1f","type":"inject","z":"6987d1e.120b43","name":"","repeat":"","crontab":"","once":false,"topic":"","payload":"welcome","payloadType":"str","x":100,"y":140,"wires":[["c113cd01.04bb1"]]},{"id":"c113cd01.04bb1","type":"ui_template","z":"6987d1e.120b43","group":"bfe7bbcf.24f738","name":"testing payload","order":0,"width":"6","height":"6","format":"<h3>Testing dynamic scripts with Dashboard 2.0</h3>\n{{msg.payload}}\n<script>\n    (function(scope) {\n        console.log('Position 1');\n        console.dir(scope);\n        console.log(scope.msg);\n        scope.$watch('msg.payload', function(data) {\n            console.log('Position 2');\n            console.dir(data);\n        });\n    })(scope);\n</script>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":false,"templateScope":"local","x":380,"y":180,"wires":[["82551759.bc6258"]]},{"id":"50300ea4.bf8e4","type":"inject","z":"6987d1e.120b43","name":"","props":[{"p":"payload"},{"p":"topic","vt":"str"}],"repeat":"","crontab":"","once":false,"onceDelay":"","topic":"","payload":"Node Red Tutorials","payloadType":"str","x":130,"y":220,"wires":[["c113cd01.04bb1"]]},{"id":"d64b96e0.561708","type":"http in","z":"a8b0d96d.c31858","name":"","url":"/hello","method":"get","swaggerDoc":"","x":200,"y":80,"wires":[["e9a67028.5751a"]]},{"id":"2bcde40b.73242c","type":"http response","z":"a8b0d96d.c31858","name":"","x":490,"y":80,"wires":[]},{"id":"e9a67028.5751a","type":"template","z":"a8b0d96d.c31858","name":"page","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"<html>\n    <head></head>\n    <body>\n        <h1>Hello World!</h1>\n    </body>\n</html>","x":350,"y":80,"wires":[["2bcde40b.73242c"]]},{"id":"7fa0f57c.165fac","type":"http in","z":"a8b0d96d.c31858","name":"","url":"/hello-query","method":"get","swaggerDoc":"","x":220,"y":180,"wires":[["4a578b2.8493b74"]]},{"id":"23c13f6c.6c21","type":"http response","z":"a8b0d96d.c31858","name":"","x":530,"y":180,"wires":[]},{"id":"4a578b2.8493b74","type":"template","z":"a8b0d96d.c31858","name":"page","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"<html>\n    <head></head>\n    <body>\n        <h1>Hello {{req.query.name}}!</h1>\n    </body>\n</html>","x":390,"y":180,"wires":[["23c13f6c.6c21"]]},{"id":"66ea4c83.b54784","type":"http response","z":"a8b0d96d.c31858","name":"","x":590,"y":280,"wires":[]},{"id":"804e4bc4.824f48","type":"template","z":"a8b0d96d.c31858","name":"page","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"<html>\n    <head></head>\n    <body>\n        <h1>Hello {{req.params.name}}!</h1>\n    </body>\n</html>","x":450,"y":280,"wires":[["66ea4c83.b54784"]]},{"id":"f7c06622.d063b8","type":"http in","z":"a8b0d96d.c31858","name":"","url":"/hello-param/:name","method":"get","swaggerDoc":"","x":250,"y":280,"wires":[["804e4bc4.824f48"]]},{"id":"f227c10b.61866","type":"inject","z":"a8b0d96d.c31858","name":"","props":[{"p":"payload","v":"","vt":"date"},{"p":"topic","v":"","vt":"string"}],"repeat":"","crontab":"","once":false,"topic":"","payload":"","payloadType":"date","x":200,"y":480,"wires":[["be6d6177.571bc"]]},{"id":"be6d6177.571bc","type":"change","z":"a8b0d96d.c31858","name":"Store time","rules":[{"t":"set","p":"timestamp","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":370,"y":480,"wires":[[]]},{"id":"70e7e479.e9dc2c","type":"http in","z":"a8b0d96d.c31858","name":"","url":"/hello-data","method":"get","swaggerDoc":"","x":220,"y":520,"wires":[["329ce85e.2b4048"]]},{"id":"d67ad88.cd37f28","type":"http response","z":"a8b0d96d.c31858","name":"","x":710,"y":520,"wires":[]},{"id":"68c5e02b.22684","type":"template","z":"a8b0d96d.c31858","name":"page","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"<html>\n    <head></head>\n    <body>\n        <h1>Time: {{ timestamp }}</h1>\n    </body>\n</html>","x":570,"y":520,"wires":[["d67ad88.cd37f28"]]},{"id":"329ce85e.2b4048","type":"change","z":"a8b0d96d.c31858","name":"Copy time","rules":[{"t":"set","p":"timestamp","pt":"msg","to":"timestamp","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":410,"y":520,"wires":[["68c5e02b.22684"]]},{"id":"4751463b.d453a8","type":"comment","z":"a8b0d96d.c31858","name":"Create an HTTP Endpoint","info":"    curl http://localhost:1880/hello","x":230,"y":40,"wires":[]},{"id":"71824e6.a448bb","type":"comment","z":"a8b0d96d.c31858","name":"Handle query parameters passed to an HTTP endpoint","info":"    curl http://localhost:1880/hello-query?name=Nick","x":320,"y":140,"wires":[]},{"id":"eb85a9e.d378658","type":"comment","z":"a8b0d96d.c31858","name":"Handle url parameters in an HTTP endpoint","info":"    curl http://localhost:1880/hello-query/Nick","x":290,"y":240,"wires":[]},{"id":"87b2731c.9c60f","type":"comment","z":"a8b0d96d.c31858","name":"Include data captured in another flow","info":"    curl http://localhost:1880/hello-data","x":270,"y":440,"wires":[]},{"id":"61267bd0.f70764","type":"http in","z":"a8b0d96d.c31858","name":"","url":"/hello-json","method":"get","upload":false,"swaggerDoc":"","x":220,"y":620,"wires":[["66d773e7.01c63c"]]},{"id":"f4c50c24.ae2a6","type":"http response","z":"a8b0d96d.c31858","name":"","x":709,"y":620,"wires":[]},{"id":"66d773e7.01c63c","type":"template","z":"a8b0d96d.c31858","name":"page","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"{ \"Hello\": \"World\" }","x":390,"y":620,"wires":[["f67c1156.87368"]]},{"id":"3b959553.d3b16a","type":"comment","z":"a8b0d96d.c31858","name":"Serve JSON content","info":"    curl http://localhost:1880/hello-json","x":210,"y":580,"wires":[]},{"id":"f67c1156.87368","type":"change","z":"a8b0d96d.c31858","name":"Set Headers","rules":[{"t":"set","p":"headers","pt":"msg","to":"{}","tot":"json"},{"t":"set","p":"headers.content-type","pt":"msg","to":"application/json","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":550,"y":620,"wires":[["f4c50c24.ae2a6"]]},{"id":"5dc2958e.3cb42c","type":"http in","z":"a8b0d96d.c31858","name":"","url":"/hello-form","method":"post","swaggerDoc":"","x":220,"y":920,"wires":[["76e51ea4.1ef7"]]},{"id":"76e51ea4.1ef7","type":"template","z":"a8b0d96d.c31858","name":"page","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"<html>\n    <head></head>\n    <body>\n        <h1>Hello {{ payload.name }}!</h1>\n    </body>\n</html>","x":390,"y":920,"wires":[["25d4001e.c1697"]]},{"id":"25d4001e.c1697","type":"http response","z":"a8b0d96d.c31858","name":"","x":530,"y":920,"wires":[]},{"id":"63038c61.027304","type":"comment","z":"a8b0d96d.c31858","name":"Post form/JSON data","info":"Posting form data - `application/x-www-form-urlencoded`\n\n    curl -X POST -d \"name=Nick\" http://localhost:1880/hello-form\n    \n    \nPosting JSON data - `application/json`\n\n    curl -X POST -d '{\"name\":\"Nick\"}' -h \"Content-type: application/json\" http://localhost:1880/hello-form","x":220,"y":880,"wires":[]},{"id":"2c0d78d6.89a238","type":"http in","z":"a8b0d96d.c31858","name":"","url":"/hello-raw","method":"post","swaggerDoc":"","x":220,"y":820,"wires":[["23a71eda.2ff4a2"]]},{"id":"23a71eda.2ff4a2","type":"template","z":"a8b0d96d.c31858","name":"page","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"<html>\n    <head></head>\n    <body>\n        <h1>Hello {{ payload }}!</h1>\n    </body>\n</html>","x":390,"y":820,"wires":[["30a72c7e.e9f424"]]},{"id":"30a72c7e.e9f424","type":"http response","z":"a8b0d96d.c31858","name":"","x":530,"y":820,"wires":[]},{"id":"912d435.1ccb5c","type":"comment","z":"a8b0d96d.c31858","name":"Post raw data","info":"Posting raw data - `text/plain`\n\n    curl -X POST -d 'Nick' -h \"Content-type: text/plain\" http://localhost:1880/hello-raw","x":190,"y":780,"wires":[]},{"id":"3abaf806.e37e28","type":"http response","z":"a8b0d96d.c31858","name":"","x":550,"y":380,"wires":[]},{"id":"939c2340.d4913","type":"template","z":"a8b0d96d.c31858","name":"page","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"<html>\n    <head></head>\n    <body>\n        <h1>User agent: {{req.headers.user-agent}}</h1>\n    </body>\n</html>","x":410,"y":380,"wires":[["3abaf806.e37e28"]]},{"id":"412ffdd0.d1b444","type":"http in","z":"a8b0d96d.c31858","name":"","url":"/hello-headers","method":"get","swaggerDoc":"","x":230,"y":380,"wires":[["939c2340.d4913"]]},{"id":"9a8d5a90.e34d38","type":"comment","z":"a8b0d96d.c31858","name":"Access HTTP request headers","info":"    curl http://localhost:1880/hello-query/Nick","x":240,"y":340,"wires":[]},{"id":"687e5368.50b54c","type":"inject","z":"eca0d768.8a4f18","name":"","props":[{"p":"payload","v":"","vt":"date"},{"p":"topic","v":"","vt":"string"}],"repeat":"","crontab":"","once":false,"topic":"","payload":"","payloadType":"date","x":220,"y":80,"wires":[["4e1c2b7a.909ba4"]]},{"id":"4e1c2b7a.909ba4","type":"http request","z":"eca0d768.8a4f18","name":"","method":"GET","ret":"txt","url":"http://localhost:1880/hello","x":390,"y":80,"wires":[["8be1e35b.7b2ee"]]},{"id":"8be1e35b.7b2ee","type":"debug","z":"eca0d768.8a4f18","name":"","active":true,"tosidebar":true,"console":false,"complete":"false","statusVal":"","statusType":"auto","x":570,"y":80,"wires":[]},{"id":"94947aa3.3f0c38","type":"comment","z":"eca0d768.8a4f18","name":"Simple GET request","info":"    curl http://localhost:1880/hello","x":230,"y":40,"wires":[]},{"id":"5cecd887.d5b0e8","type":"debug","z":"eca0d768.8a4f18","name":"","active":true,"console":"false","complete":"false","x":750,"y":180,"wires":[]},{"id":"cee1400d.642ac","type":"http request","z":"eca0d768.8a4f18","name":"","method":"GET","ret":"txt","paytoqs":"ignore","url":"","tls":"","persist":false,"proxy":"","authType":"","x":570,"y":180,"wires":[["5cecd887.d5b0e8"]]},{"id":"d6149e88.5c89c","type":"inject","z":"eca0d768.8a4f18","name":"","props":[{"p":"payload","v":"","vt":"date"},{"p":"topic","v":"","vt":"string"}],"repeat":"","crontab":"","once":false,"topic":"","payload":"","payloadType":"date","x":220,"y":180,"wires":[["85994e22.81273"]]},{"id":"428efab5.b3c1f4","type":"comment","z":"eca0d768.8a4f18","name":"Set the url of a request","info":"","x":240,"y":140,"wires":[]},{"id":"85994e22.81273","type":"change","z":"eca0d768.8a4f18","name":"","rules":[{"t":"set","p":"url","pt":"msg","to":"http://localhost:1880/hello","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":390,"y":180,"wires":[["cee1400d.642ac"]]},{"id":"f6b1d336.612cb","type":"comment","z":"eca0d768.8a4f18","name":"Get a parsed JSON response","info":"","x":260,"y":438,"wires":[]},{"id":"4eb48b85.4cf324","type":"http request","z":"eca0d768.8a4f18","name":"","method":"GET","ret":"obj","url":"http://localhost:1880/hello-json","x":390,"y":478,"wires":[["e731844.db18378"]]},{"id":"613341b3.0b56e","type":"inject","z":"eca0d768.8a4f18","name":"","props":[{"p":"payload","v":"","vt":"date"},{"p":"topic","v":"","vt":"string"}],"repeat":"","crontab":"","once":false,"topic":"","payload":"","payloadType":"date","x":220,"y":478,"wires":[["4eb48b85.4cf324"]]},{"id":"e731844.db18378","type":"debug","z":"eca0d768.8a4f18","name":"","active":true,"tosidebar":true,"console":false,"complete":"false","statusVal":"","statusType":"auto","x":570,"y":478,"wires":[]},{"id":"b07f595c.f26cf8","type":"comment","z":"eca0d768.8a4f18","name":"Set a request header","info":"","x":220,"y":560,"wires":[]},{"id":"d8067b3d.ce55c8","type":"http request","z":"eca0d768.8a4f18","name":"","method":"GET","ret":"txt","url":"http://localhost:1880/hello-headers","x":620,"y":600,"wires":[["c462830b.57238"]]},{"id":"99e91be3.8631f8","type":"inject","z":"eca0d768.8a4f18","name":"","props":[{"p":"payload","v":"","vt":"date"},{"p":"topic","v":"","vt":"string"}],"repeat":"","crontab":"","once":false,"topic":"","payload":"","payloadType":"date","x":210,"y":600,"wires":[["ba34afcf.c3fef"]]},{"id":"c462830b.57238","type":"debug","z":"eca0d768.8a4f18","name":"","active":true,"console":"false","complete":"false","x":800,"y":600,"wires":[]},{"id":"ba34afcf.c3fef","type":"change","z":"eca0d768.8a4f18","name":"Set user-agent header","rules":[{"t":"set","p":"headers","pt":"msg","to":"{}","tot":"json"},{"t":"set","p":"headers.user-agent","pt":"msg","to":"Node-RED","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":410,"y":600,"wires":[["d8067b3d.ce55c8"]]},{"id":"359e6c98.5b6034","type":"debug","z":"eca0d768.8a4f18","name":"","active":true,"tosidebar":true,"console":false,"complete":"false","statusVal":"","statusType":"auto","x":830,"y":380,"wires":[]},{"id":"5d2f0fa5.ade73","type":"http request","z":"eca0d768.8a4f18","name":"","method":"GET","ret":"txt","paytoqs":"ignore","url":"http://localhost:1880/hello-query?{{{querystring}}}","tls":"","persist":false,"proxy":"","authType":"","x":650,"y":380,"wires":[["359e6c98.5b6034"]]},{"id":"baf65da4.d31f5","type":"inject","z":"eca0d768.8a4f18","name":"","props":[{"p":"payload"},{"p":"topic","vt":"str"}],"repeat":"","crontab":"","once":false,"onceDelay":"","topic":"","payload":"{\"name\":\"sandy\"}","payloadType":"json","x":240,"y":378,"wires":[["15b9b3f1.264e2c"]]},{"id":"57519b61.ba23a4","type":"comment","z":"eca0d768.8a4f18","name":"Set query string parameters","info":"The url template must use {{{triple}}}-braces\nso it doesn't get escaped","x":260,"y":338,"wires":[]},{"id":"15b9b3f1.264e2c","type":"function","z":"eca0d768.8a4f18","name":"Create query string","func":"var params = [];\nfor (var i in msg.payload) {\n    params.push(encodeURIComponent(i)+\"=\"+encodeURIComponent(msg.payload[i]));\n}\nmsg.querystring = params.join(\"&\");\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":450,"y":378,"wires":[["5d2f0fa5.ade73"]]},{"id":"2dbefedf.802f72","type":"comment","z":"eca0d768.8a4f18","name":"* Respond with the result of an HTTP request","info":"    curl http://localhost:1880/hello-proxy","x":300,"y":660,"wires":[]},{"id":"eabcf3a5.8c881","type":"http in","z":"eca0d768.8a4f18","name":"","url":"/hello-proxy","method":"get","swaggerDoc":"","x":210,"y":700,"wires":[["3e07b3be.e4246c"]]},{"id":"aad98017.aa128","type":"http response","z":"eca0d768.8a4f18","name":"","x":760,"y":700,"wires":[]},{"id":"3e07b3be.e4246c","type":"http request","z":"eca0d768.8a4f18","name":"","method":"GET","ret":"txt","url":"http://localhost:1880/hello","x":404,"y":700,"wires":[["4bcf551a.4ea85c"]]},{"id":"7a7c1ddd.ca4c04","type":"http in","z":"a8b0d96d.c31858","name":"","url":"/hello-cookie","method":"get","swaggerDoc":"","x":230,"y":1020,"wires":[["98445af7.061148"]]},{"id":"7d3422ae.2d562c","type":"template","z":"a8b0d96d.c31858","name":"page","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"<html>\n    <head></head>\n    <body>\n        <h1>Cookies</h1>\n        <p></p><a href=\"hello-cookie/add\">Add a cookie</a> &bull; <a href=\"hello-cookie/clear\">Clear cookies</a></p>\n        <pre>{{ payload }}</pre>\n    </body>\n</html>","x":630,"y":1020,"wires":[["b8582cc3.fc8c"]]},{"id":"b8582cc3.fc8c","type":"http response","z":"a8b0d96d.c31858","name":"","x":850,"y":1020,"wires":[]},{"id":"2fdfa3d6.37be9c","type":"comment","z":"a8b0d96d.c31858","name":"Work with cookies","info":"","x":210,"y":980,"wires":[]},{"id":"83247a29.c45968","type":"http in","z":"a8b0d96d.c31858","name":"","url":"/hello-cookie/add","method":"get","swaggerDoc":"","x":240,"y":1060,"wires":[["1151597c.445c57"]]},{"id":"1151597c.445c57","type":"function","z":"a8b0d96d.c31858","name":"Add a cookie","func":"msg.cookies = { };\nmsg.cookies[\"demo-\"+(Math.floor(Math.random()*1000))] = Date.now();\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":430,"y":1060,"wires":[["d81062b0.9b575"]]},{"id":"bb32f252.d3fd8","type":"http in","z":"a8b0d96d.c31858","name":"","url":"/hello-cookie/clear","method":"get","swaggerDoc":"","x":240,"y":1100,"wires":[["3b1b6323.b61ebc"]]},{"id":"3b1b6323.b61ebc","type":"function","z":"a8b0d96d.c31858","name":"Clear cookies","func":"// Find demo cookies and clear them\nvar cookieNames = Object.keys(msg.req.cookies).filter(function(cookieName) { return /^demo-/.test(cookieName);});\nmsg.cookies = {};\n\ncookieNames.forEach(function(cookieName) {\n    msg.cookies[cookieName] = null;\n});\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":440,"y":1100,"wires":[["d81062b0.9b575"]]},{"id":"d81062b0.9b575","type":"change","z":"a8b0d96d.c31858","name":"Redirect to /hello-cookie","rules":[{"t":"set","p":"statusCode","pt":"msg","to":"302","tot":"num"},{"t":"set","p":"headers","pt":"msg","to":"{}","tot":"json"},{"t":"set","p":"headers.location","pt":"msg","to":"/hello-cookie","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":650,"y":1080,"wires":[["b8582cc3.fc8c"]]},{"id":"98445af7.061148","type":"function","z":"a8b0d96d.c31858","name":"Format cookies","func":"msg.payload = JSON.stringify(msg.req.cookies,null,4);\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":440,"y":1020,"wires":[["7d3422ae.2d562c"]]},{"id":"128458a6.8dfd77","type":"inject","z":"97c51b20.081458","name":"","repeat":"","crontab":"","once":false,"topic":"","payload":"","payloadType":"date","x":140,"y":80,"wires":[["70b72bf5.7e2254"]]},{"id":"70b72bf5.7e2254","type":"change","z":"97c51b20.081458","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"Hello World!","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":340,"y":80,"wires":[["794ade37.79ede"]]},{"id":"794ade37.79ede","type":"debug","z":"97c51b20.081458","name":"","active":true,"console":"false","complete":"false","x":550,"y":80,"wires":[]},{"id":"7d8052e9.7dc73c","type":"comment","z":"97c51b20.081458","name":"Set a message property to a fixed value","info":"","x":170,"y":40,"wires":[]},{"id":"298b125b.59aede","type":"inject","z":"97c51b20.081458","name":"","repeat":"","crontab":"","once":false,"topic":"","payload":"","payloadType":"date","x":140,"y":180,"wires":[["f858aa.e56bc758"]]},{"id":"f858aa.e56bc758","type":"change","z":"97c51b20.081458","name":"","rules":[{"t":"delete","p":"payload","pt":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":350,"y":180,"wires":[["ad682908.898658"]]},{"id":"ad682908.898658","type":"debug","z":"97c51b20.081458","name":"","active":true,"console":"false","complete":"false","x":550,"y":180,"wires":[]},{"id":"643e7793.f86328","type":"comment","z":"97c51b20.081458","name":"Delete message property","info":"","x":130,"y":140,"wires":[]},{"id":"4244d916.e38198","type":"inject","z":"97c51b20.081458","name":"","props":[{"p":"payload","v":"","vt":"date"},{"p":"topic","v":"Hello","vt":"string"}],"repeat":"","crontab":"","once":false,"topic":"Hello","payload":"","payloadType":"date","x":160,"y":280,"wires":[["82df7f49.c8a64"]]},{"id":"82df7f49.c8a64","type":"change","z":"97c51b20.081458","name":"","rules":[{"t":"move","p":"topic","pt":"msg","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":360,"y":280,"wires":[["8512848b.8d72e8"]]},{"id":"8512848b.8d72e8","type":"debug","z":"97c51b20.081458","name":"","active":true,"console":"false","complete":"false","x":550,"y":280,"wires":[]},{"id":"ddd2e9b4.605078","type":"comment","z":"97c51b20.081458","name":"Move message property","info":"","x":130,"y":240,"wires":[]},{"id":"fcd11548.25d728","type":"inject","z":"97c51b20.081458","name":"","props":[{"p":"payload"},{"p":"topic","vt":"str"}],"repeat":"","crontab":"","once":false,"onceDelay":"","topic":"","payload":"10","payloadType":"num","x":110,"y":440,"wires":[["7c40db44.935024"]]},{"id":"c7f19bce.1cfd78","type":"debug","z":"97c51b20.081458","name":"","active":true,"tosidebar":true,"console":false,"complete":"false","statusVal":"","statusType":"auto","x":530,"y":480,"wires":[]},{"id":"4c014aee.f7b244","type":"comment","z":"97c51b20.081458","name":"Map numeric range","info":"","x":110,"y":340,"wires":[]},{"id":"7e4a61eb.f79fe","type":"inject","z":"97c51b20.081458","name":"","props":[{"p":"payload","v":"512","vt":"num"},{"p":"topic","v":"","vt":"string"}],"repeat":"","crontab":"","once":false,"topic":"","payload":"512","payloadType":"num","x":110,"y":480,"wires":[["7c40db44.935024"]]},{"id":"a00d1d24.ec511","type":"inject","z":"97c51b20.081458","name":"","props":[{"p":"payload","v":"1023","vt":"num"},{"p":"topic","v":"","vt":"string"}],"repeat":"","crontab":"","once":false,"topic":"","payload":"1023","payloadType":"num","x":110,"y":520,"wires":[["7c40db44.935024"]]},{"id":"7c40db44.935024","type":"range","z":"97c51b20.081458","minin":"0","maxin":"1023","minout":"0","maxout":"5","action":"clamp","round":false,"name":"","x":330,"y":480,"wires":[["c7f19bce.1cfd78"]]},{"id":"a1b282fc.5ca2c","type":"comment","z":"5e94e835.aaf318","name":"Connect to an MQTT Broker","info":"","x":140,"y":40,"wires":[]},{"id":"84b65eb3.041d5","type":"mqtt out","z":"5e94e835.aaf318","name":"","topic":"sensors/livingroom/temp","qos":"","retain":"","broker":"f8c91c96.022c6","x":290,"y":80,"wires":[]},{"id":"43e53cce.7fff04","type":"inject","z":"5e94e835.aaf318","name":"","repeat":"","crontab":"","once":false,"topic":"","payload":"22","payloadType":"num","x":110,"y":80,"wires":[["84b65eb3.041d5"]]},{"id":"d33dcc29.0a5e","type":"mqtt in","z":"5e94e835.aaf318","name":"","topic":"sensors/livingroom/temp","qos":"2","broker":"f8c91c96.022c6","x":150,"y":120,"wires":[["59b1d193.79208"]]},{"id":"59b1d193.79208","type":"debug","z":"5e94e835.aaf318","name":"","active":true,"console":"false","complete":"false","x":350,"y":120,"wires":[]},{"id":"cfb7bc8a.a811","type":"comment","z":"5e94e835.aaf318","name":"Publish to a Topic","info":"","x":110,"y":180,"wires":[]},{"id":"e64316e0.a41e78","type":"mqtt out","z":"5e94e835.aaf318","name":"","topic":"sensors/livingroom/temp","qos":"","retain":"","broker":"f8c91c96.022c6","x":330,"y":220,"wires":[]},{"id":"6156a291.e2e1cc","type":"inject","z":"5e94e835.aaf318","name":"temperature","repeat":"","crontab":"","once":false,"topic":"","payload":"22","payloadType":"num","x":110,"y":220,"wires":[["e64316e0.a41e78"]]},{"id":"4be2779a.a31e78","type":"comment","z":"5e94e835.aaf318","name":"Set the topic of a published message","info":"","x":170,"y":280,"wires":[]},{"id":"543fc2fd.c1c5ac","type":"mqtt out","z":"5e94e835.aaf318","name":"","topic":"","qos":"","retain":"","broker":"f8c91c96.022c6","x":310,"y":320,"wires":[]},{"id":"f93b27cd.d3ff78","type":"inject","z":"5e94e835.aaf318","name":"kitchen temperature","repeat":"","crontab":"","once":false,"topic":"sensors/kitchen/temperature","payload":"22","payloadType":"num","x":130,"y":320,"wires":[["543fc2fd.c1c5ac"]]},{"id":"79d9ebaa.40d654","type":"comment","z":"5e94e835.aaf318","name":"Subscribe to a Topic","info":"","x":110,"y":480,"wires":[]},{"id":"ecec76d8.310928","type":"mqtt in","z":"5e94e835.aaf318","name":"","topic":"sensors/#","qos":"2","datatype":"auto","broker":"f8c91c96.022c6","x":80,"y":520,"wires":[["656f8fe1.4f40d"]]},{"id":"656f8fe1.4f40d","type":"debug","z":"5e94e835.aaf318","name":"","active":true,"console":"false","complete":"false","x":230,"y":520,"wires":[]},{"id":"f3d896f4.c27d88","type":"comment","z":"5e94e835.aaf318","name":"Publish a retained message to a topic","info":"","x":170,"y":380,"wires":[]},{"id":"39c12f5f.b3392","type":"mqtt out","z":"5e94e835.aaf318","name":"","topic":"sensors/livingroom/temp","qos":"","retain":"true","broker":"f8c91c96.022c6","x":310,"y":420,"wires":[]},{"id":"6f96854b.af1d3c","type":"inject","z":"5e94e835.aaf318","name":"temperature","repeat":"","crontab":"","once":false,"topic":"","payload":"22","payloadType":"num","x":110,"y":420,"wires":[["39c12f5f.b3392"]]},{"id":"4dd73c37.b3a2e4","type":"comment","z":"5e94e835.aaf318","name":"Receive a Parsed JSON Message","info":"","x":160,"y":580,"wires":[]},{"id":"49acb8d8.907478","type":"mqtt in","z":"5e94e835.aaf318","name":"","topic":"sensors/#","qos":"2","datatype":"auto","broker":"f8c91c96.022c6","x":240,"y":680,"wires":[["542f1402.9aa19c"]]},{"id":"c584cf84.390dc","type":"debug","z":"5e94e835.aaf318","name":"","active":true,"console":"false","complete":"false","x":510,"y":680,"wires":[]},{"id":"d6aad03.77ce33","type":"mqtt out","z":"5e94e835.aaf318","name":"","topic":"sensors/livingroom/temp","qos":"","retain":"false","broker":"f8c91c96.022c6","x":290,"y":620,"wires":[]},{"id":"59b2fb23.6048a4","type":"inject","z":"5e94e835.aaf318","name":"temp json","repeat":"","crontab":"","once":false,"topic":"","payload":"{\"sensor_id\":1234,\"temperature\":13}","payloadType":"json","x":100,"y":620,"wires":[["d6aad03.77ce33"]]},{"id":"542f1402.9aa19c","type":"json","z":"5e94e835.aaf318","name":"","pretty":false,"x":370,"y":680,"wires":[["c584cf84.390dc"]]},{"id":"62d8e0df.27396","type":"inject","z":"d217000f.892be","name":"","props":[{"p":"payload"},{"p":"topic","vt":"str"}],"repeat":"","crontab":"","once":true,"onceDelay":"","topic":"","payload":"Started!","payloadType":"str","x":140,"y":80,"wires":[["df783dd3.402c9"]]},{"id":"df783dd3.402c9","type":"debug","z":"d217000f.892be","name":"","active":true,"tosidebar":true,"console":true,"tostatus":true,"complete":"payload","targetType":"msg","statusVal":"payload","statusType":"auto","x":380,"y":80,"wires":[]},{"id":"7051a59c.71fb3c","type":"inject","z":"d217000f.892be","name":"","props":[{"p":"payload"},{"p":"topic","vt":"str"}],"repeat":"5","crontab":"","once":false,"onceDelay":"","topic":"","payload":"","payloadType":"date","x":150,"y":180,"wires":[["1835bf6f.20ab91"]]},{"id":"1835bf6f.20ab91","type":"debug","z":"d217000f.892be","name":"","active":false,"tosidebar":true,"console":false,"complete":"false","statusVal":"payload","statusType":"auto","x":410,"y":180,"wires":[]},{"id":"a99cff84.48058","type":"inject","z":"d217000f.892be","name":"","props":[{"p":"payload","v":"It is 4pm on a weekday!","vt":"str"},{"p":"topic","v":"","vt":"string"}],"repeat":"","crontab":"00 16 * * 1,2,3,4,5","once":false,"topic":"","payload":"It is 4pm on a weekday!","payloadType":"str","x":190,"y":280,"wires":[["d24a62c7.f4ab4"]]},{"id":"d24a62c7.f4ab4","type":"debug","z":"d217000f.892be","name":"","active":true,"console":"false","complete":"false","x":410,"y":280,"wires":[]},{"id":"af8aa1a9.0877c","type":"comment","z":"d217000f.892be","name":"Trigger a flow whenever Node-RED starts","info":"","x":180,"y":40,"wires":[]},{"id":"dabf3b4f.24ce98","type":"comment","z":"d217000f.892be","name":"Trigger a flow at regular intervals","info":"","x":150,"y":140,"wires":[]},{"id":"4f629275.5f01dc","type":"comment","z":"d217000f.892be","name":"Trigger a flow at a specific time","info":"","x":150,"y":240,"wires":[]},{"id":"d47b3483.793348","type":"comment","z":"d217000f.892be","name":"Route a message based on one of its properties","info":"","x":200,"y":340,"wires":[]},{"id":"a3a812ff.dbbe9","type":"comment","z":"d217000f.892be","name":"Perform an operation on each element in an array","info":"","x":200,"y":880,"wires":[]},{"id":"747259bf.f958f8","type":"comment","z":"d217000f.892be","name":"Trigger a flow if a message isn’t received after a defined time","info":"","x":240,"y":1100,"wires":[]},{"id":"6840517f.cca34","type":"comment","z":"d217000f.892be","name":"Drop messages that have not changed value","info":"","x":190,"y":1460,"wires":[]},{"id":"7200c650.b07218","type":"comment","z":"d217000f.892be","name":"Send placeholder messages when a stream stops sending","info":"","x":230,"y":1620,"wires":[]},{"id":"bb875105.28103","type":"comment","z":"ee2e6758.0a8ec8","name":"Trigger a flow when a node throws an error","info":"","x":180,"y":40,"wires":[]},{"id":"67bb855d.11323c","type":"comment","z":"f02b5598.342e68","name":"Convert to/from JSON","info":"","x":120,"y":40,"wires":[]},{"id":"d2a9601d.590b2","type":"comment","z":"f02b5598.342e68","name":"Split text into one message per line","info":"","x":160,"y":840,"wires":[]},{"id":"8d9d8071.90e19","type":"switch","z":"d217000f.892be","name":"Route ","property":"topic","propertyType":"msg","rules":[{"t":"eq","v":"temperature","vt":"str"},{"t":"eq","v":"humidity","vt":"str"},{"t":"eq","v":"pressure","vt":"str"}],"checkall":"true","repair":false,"outputs":3,"x":330,"y":420,"wires":[["3d20b64b.650fba"],["43e54b2b.b8d0c4"],["146eecd6.41ee93"]]},{"id":"f3ca6f5a.0976a","type":"inject","z":"d217000f.892be","name":"","repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"temperature","payload":"27","payloadType":"num","x":140,"y":380,"wires":[["8d9d8071.90e19"]]},{"id":"ebbbcd2b.ec7e5","type":"inject","z":"d217000f.892be","name":"","props":[{"p":"payload","v":"45","vt":"num"},{"p":"topic","v":"humidity","vt":"string"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"humidity","payload":"45","payloadType":"num","x":130,"y":420,"wires":[["8d9d8071.90e19"]]},{"id":"3d20b64b.650fba","type":"debug","z":"d217000f.892be","name":"Temperature","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","targetType":"msg","statusVal":"","statusType":"auto","x":510,"y":380,"wires":[]},{"id":"43e54b2b.b8d0c4","type":"debug","z":"d217000f.892be","name":"Humidity","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","targetType":"msg","x":500,"y":420,"wires":[]},{"id":"146eecd6.41ee93","type":"debug","z":"d217000f.892be","name":"Pressure","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","targetType":"msg","x":500,"y":460,"wires":[]},{"id":"8ca7abb6.cba768","type":"inject","z":"d217000f.892be","name":"","repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"pressure","payload":"1001","payloadType":"num","x":130,"y":460,"wires":[["8d9d8071.90e19"]]},{"id":"b0c9941d.2c2c88","type":"inject","z":"d217000f.892be","name":"Set state 0","repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"0","payloadType":"num","x":120,"y":680,"wires":[["b6730475.ae3d78"]]},{"id":"b6730475.ae3d78","type":"change","z":"d217000f.892be","name":"Set flow.state","rules":[{"t":"set","p":"state","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":340,"y":720,"wires":[["a8efca54.2de8c8"]]},{"id":"a381ad0f.65675","type":"inject","z":"d217000f.892be","name":"Set state 1","repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"1","payloadType":"num","x":120,"y":720,"wires":[["b6730475.ae3d78"]]},{"id":"326d3bdb.2599c4","type":"inject","z":"d217000f.892be","name":"Set state 2","repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"2","payloadType":"num","x":120,"y":760,"wires":[["b6730475.ae3d78"]]},{"id":"4e5c45c0.12dadc","type":"inject","z":"d217000f.892be","name":"Set state 3","repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"3","payloadType":"num","x":120,"y":800,"wires":[["b6730475.ae3d78"]]},{"id":"dbe84b4f.d62df8","type":"inject","z":"d217000f.892be","name":"Array of decimals","props":[{"p":"payload","v":"[1.67,2.98,3.12,4.99,5.50]","vt":"json"},{"p":"topic","v":"","vt":"string"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"[1.67,2.98,3.12,4.99,5.50]","payloadType":"json","x":120,"y":920,"wires":[["f6919ac6.552c18"]]},{"id":"f6919ac6.552c18","type":"split","z":"d217000f.892be","name":"Split array","splt":"\\n","spltType":"str","arraySplt":"1","arraySpltType":"len","stream":false,"addname":"","x":200,"y":980,"wires":[["ef752384.2a53f"]]},{"id":"ef752384.2a53f","type":"range","z":"d217000f.892be","minin":"0","maxin":"10","minout":"0","maxout":"10","action":"scale","round":true,"property":"payload","name":"Round value","x":350,"y":980,"wires":[["b5834959.1a7658"]]},{"id":"b5834959.1a7658","type":"join","z":"d217000f.892be","name":"","mode":"auto","build":"string","property":"payload","propertyType":"msg","key":"topic","joiner":"\\n","joinerType":"str","accumulate":"false","timeout":"","count":"","reduceRight":false,"x":490,"y":980,"wires":[["774a145c.015d8c"]]},{"id":"774a145c.015d8c","type":"debug","z":"d217000f.892be","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":550,"y":1040,"wires":[]},{"id":"64044f4e.36e21","type":"trigger","z":"d217000f.892be","name":"Watchdog","op1":"","op2":"timeout","op1type":"nul","op2type":"str","duration":"5","extend":true,"units":"s","reset":"","bytopic":"all","outputs":1,"x":270,"y":1180,"wires":[["eeb5f697.6fde28"]]},{"id":"d9f45195.9a122","type":"inject","z":"d217000f.892be","name":"","repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"","payloadType":"date","x":100,"y":1140,"wires":[["64044f4e.36e21","7ceebf82.c1106"]]},{"id":"7ceebf82.c1106","type":"debug","z":"d217000f.892be","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","targetType":"msg","x":450,"y":1140,"wires":[]},{"id":"eeb5f697.6fde28","type":"debug","z":"d217000f.892be","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":450,"y":1180,"wires":[]},{"id":"50354b85.8c61b4","type":"comment","z":"d217000f.892be","name":"Limit the rate of messages passing through a flow","info":"","x":210,"y":1240,"wires":[]},{"id":"100c5b5e.0965d5","type":"delay","z":"d217000f.892be","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":390,"y":1280,"wires":[["314649a3.98f116"]]},{"id":"f02f7960.3c63c8","type":"inject","z":"d217000f.892be","name":"Inject Array","props":[{"p":"payload","v":"[0,1,2,3,4,5,6,7,8,9]","vt":"json"},{"p":"topic","v":"","vt":"string"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"[0,1,2,3,4,5,6,7,8,9]","payloadType":"json","x":110,"y":1280,"wires":[["2c3c95db.7f4eaa"]]},{"id":"314649a3.98f116","type":"debug","z":"d217000f.892be","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","targetType":"msg","x":550,"y":1280,"wires":[]},{"id":"2c3c95db.7f4eaa","type":"split","z":"d217000f.892be","name":"","splt":"\\n","spltType":"str","arraySplt":1,"arraySpltType":"len","stream":false,"addname":"","x":250,"y":1280,"wires":[["100c5b5e.0965d5"]]},{"id":"ee58ade6.56a5a","type":"comment","z":"d217000f.892be","name":"Handle messages at a regular rate","info":"","x":160,"y":1340,"wires":[]},{"id":"6869bb54.b35b04","type":"delay","z":"d217000f.892be","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"5","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":true,"x":320,"y":1380,"wires":[["55982adf.ada644"]]},{"id":"527013a9.301c1c","type":"inject","z":"d217000f.892be","name":"Inject Array","props":[{"p":"payload","v":"[0,1,2,3,4,5,6,7,8,9]","vt":"json"},{"p":"topic","v":"","vt":"string"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"[0,1,2,3,4,5,6,7,8,9]","payloadType":"json","x":110,"y":1380,"wires":[["6869bb54.b35b04"]]},{"id":"55982adf.ada644","type":"debug","z":"d217000f.892be","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","targetType":"msg","x":530,"y":1380,"wires":[]},{"id":"afe3c350.680fc","type":"rbe","z":"d217000f.892be","name":"report-by-exception","func":"deadband","gap":"","start":"","inout":"out","property":"payload","x":300,"y":1520,"wires":[["cb38cfb0.82799"]]},{"id":"d9bf2c47.afb28","type":"inject","z":"d217000f.892be","name":"","repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"0","payloadType":"num","x":90,"y":1500,"wires":[["afe3c350.680fc"]]},{"id":"caa1337a.312db","type":"inject","z":"d217000f.892be","name":"","repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"1","payloadType":"num","x":90,"y":1540,"wires":[["afe3c350.680fc"]]},{"id":"cb38cfb0.82799","type":"debug","z":"d217000f.892be","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","targetType":"msg","x":510,"y":1520,"wires":[]},{"id":"336ad666.b2e9ca","type":"catch","z":"ee2e6758.0a8ec8","name":"","scope":["dea6b04e.0b04c"],"uncaught":false,"x":130,"y":160,"wires":[["57e54774.fac9c8"]]},{"id":"dea6b04e.0b04c","type":"function","z":"ee2e6758.0a8ec8","name":"Throw Error","func":"node.error(\"an example error\", msg);   ","outputs":1,"noerr":0,"x":310,"y":100,"wires":[[]]},{"id":"57e54774.fac9c8","type":"debug","z":"ee2e6758.0a8ec8","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"error","targetType":"msg","x":300,"y":160,"wires":[]},{"id":"93927a36.1000f8","type":"inject","z":"ee2e6758.0a8ec8","name":"Trigger error","repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"","payloadType":"date","x":110,"y":100,"wires":[["dea6b04e.0b04c"]]},{"id":"5d39984.43ba168","type":"comment","z":"ee2e6758.0a8ec8","name":"Automatically retry an action after an error","info":"","x":180,"y":260,"wires":[]},{"id":"1e63f111.264f0f","type":"catch","z":"ee2e6758.0a8ec8","name":"","scope":["9575d71d.f5eec8"],"uncaught":false,"x":90,"y":380,"wires":[["312ab56c.9c67fa","3eb7167f.2458da"]]},{"id":"9575d71d.f5eec8","type":"function","z":"ee2e6758.0a8ec8","name":"Random error","func":"// Randomly throw an error rather than\n// pass on message.\nif (Math.random() < 0.5) {\n   node.error(\"a random error\", msg);\n} else {\n    return msg;\n}","outputs":1,"noerr":0,"x":320,"y":320,"wires":[["30ac2424.43479c"]]},{"id":"b4601a7f.389398","type":"inject","z":"ee2e6758.0a8ec8","name":"","repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"","payloadType":"date","x":100,"y":320,"wires":[["9575d71d.f5eec8"]]},{"id":"30ac2424.43479c","type":"debug","z":"ee2e6758.0a8ec8","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":510,"y":320,"wires":[]},{"id":"312ab56c.9c67fa","type":"delay","z":"ee2e6758.0a8ec8","name":"","pauseType":"delay","timeout":"2","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":240,"y":380,"wires":[["9575d71d.f5eec8"]]},{"id":"3eb7167f.2458da","type":"debug","z":"ee2e6758.0a8ec8","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"error","targetType":"msg","x":240,"y":440,"wires":[]},{"id":"caf93d8a.fe397","type":"inject","z":"f02b5598.342e68","name":"JSON String","props":[{"p":"payload","v":"{\"a\":1}","vt":"str"},{"p":"topic","v":"","vt":"string"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"{\"a\":1}","payloadType":"str","x":110,"y":80,"wires":[["a80f50b8.d9f36"]]},{"id":"a80f50b8.d9f36","type":"json","z":"f02b5598.342e68","name":"","property":"payload","action":"","pretty":false,"x":270,"y":80,"wires":[["37c4f6ab.2d909a"]]},{"id":"37c4f6ab.2d909a","type":"debug","z":"f02b5598.342e68","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":430,"y":80,"wires":[]},{"id":"9c10a208.1a875","type":"inject","z":"f02b5598.342e68","name":"Object","repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"{\"a\":1}","payloadType":"json","x":90,"y":120,"wires":[["bb046c21.e5d61"]]},{"id":"bb046c21.e5d61","type":"json","z":"f02b5598.342e68","name":"","property":"payload","action":"","pretty":false,"x":270,"y":120,"wires":[["2d711615.9e260a"]]},{"id":"2d711615.9e260a","type":"debug","z":"f02b5598.342e68","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":430,"y":120,"wires":[]},{"id":"8b1df43b.466c78","type":"comment","z":"f02b5598.342e68","name":"Convert to/from YAML","info":"","x":120,"y":360,"wires":[]},{"id":"7c3acfb5.30c24","type":"inject","z":"f02b5598.342e68","name":"YAML String","repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"{\"a\":1}","payloadType":"str","x":110,"y":400,"wires":[["ccd4f521.a523e8"]]},{"id":"8f5762f1.50ee8","type":"debug","z":"f02b5598.342e68","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":590,"y":400,"wires":[]},{"id":"a4b610b0.12d2e","type":"inject","z":"f02b5598.342e68","name":"Object","repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"{\"a\":1, \"b\":[1,2,3]}","payloadType":"json","x":90,"y":440,"wires":[["db9ac64.cccec38"]]},{"id":"f0800363.bbe01","type":"debug","z":"f02b5598.342e68","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":430,"y":440,"wires":[]},{"id":"ccd4f521.a523e8","type":"template","z":"f02b5598.342e68","name":"","field":"payload","fieldType":"msg","format":"yaml","syntax":"plain","template":"a: 1\nb:\n  - 1\n  - 2\n  - 3","output":"str","x":280,"y":400,"wires":[["31a789e2.63b896"]]},{"id":"db9ac64.cccec38","type":"yaml","z":"f02b5598.342e68","property":"payload","name":"","x":250,"y":440,"wires":[["f0800363.bbe01"]]},{"id":"31a789e2.63b896","type":"yaml","z":"f02b5598.342e68","property":"payload","name":"","x":430,"y":400,"wires":[["8f5762f1.50ee8"]]},{"id":"52a69ede.1ea41","type":"comment","z":"f02b5598.342e68","name":"Convert to/from XML","info":"","x":120,"y":200,"wires":[]},{"id":"64214a0e.dcb7f4","type":"inject","z":"f02b5598.342e68","name":"XML String","repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"{\"a\":1}","payloadType":"str","x":100,"y":240,"wires":[["f3577925.70e058"]]},{"id":"94260d45.af5f8","type":"debug","z":"f02b5598.342e68","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":590,"y":240,"wires":[]},{"id":"15354bcb.4fb3f4","type":"inject","z":"f02b5598.342e68","name":"Object","repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"{\"note\":{\"$\":{\"priority\":\"high\"},\"to\":[\"Nick\"],\"from\":[\"Dave\"],\"heading\":[\"Reminder\"],\"body\":[\"Update the website\"]}}","payloadType":"json","x":90,"y":280,"wires":[["16c3a4bc.bbb50b"]]},{"id":"74d019ec.116fb8","type":"debug","z":"f02b5598.342e68","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":430,"y":280,"wires":[]},{"id":"f3577925.70e058","type":"template","z":"f02b5598.342e68","name":"","field":"payload","fieldType":"msg","format":"text","syntax":"plain","template":"<note priority=\"high\">\n  <to>Nick</to>\n  <from>Dave</from>\n  <heading>Reminder</heading>\n  <body>Update the website</body>\n</note>","output":"str","x":280,"y":240,"wires":[["b87dc480.3d50c8"]]},{"id":"b87dc480.3d50c8","type":"xml","z":"f02b5598.342e68","name":"","property":"payload","attr":"","chr":"","x":430,"y":240,"wires":[["94260d45.af5f8"]]},{"id":"16c3a4bc.bbb50b","type":"xml","z":"f02b5598.342e68","name":"","property":"payload","attr":"","chr":"","x":250,"y":280,"wires":[["74d019ec.116fb8"]]},{"id":"71f6ffbf.1f994","type":"comment","z":"f02b5598.342e68","name":"Generate CSV output","info":"","x":120,"y":520,"wires":[]},{"id":"915d63ed.3eb97","type":"inject","z":"f02b5598.342e68","name":"single","repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"","payloadType":"date","x":90,"y":560,"wires":[["142ccbe9.fa22c4"]]},{"id":"142ccbe9.fa22c4","type":"change","z":"f02b5598.342e68","name":"Generate single payload","rules":[{"t":"set","p":"payload","pt":"msg","to":"{ \"a\":$floor(100*$random()),\"b\":$floor(100*$random()),\"c\":$floor(100*$random())}","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":270,"y":560,"wires":[["312db169.8789ee"]]},{"id":"312db169.8789ee","type":"csv","z":"f02b5598.342e68","name":"","sep":",","hdrin":"","hdrout":false,"multi":"one","ret":"\\n","temp":"a,b,c","skip":"0","x":450,"y":560,"wires":[["91276168.baeb6"]]},{"id":"91276168.baeb6","type":"debug","z":"f02b5598.342e68","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":590,"y":560,"wires":[]},{"id":"c313f6c6.6fd9c8","type":"inject","z":"f02b5598.342e68","name":"array","props":[{"p":"payload","v":"","vt":"date"},{"p":"topic","v":"","vt":"string"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"","payloadType":"date","x":90,"y":620,"wires":[["21e81ee8.9758a2"]]},{"id":"21e81ee8.9758a2","type":"change","z":"f02b5598.342e68","name":"Generate array payload","rules":[{"t":"set","p":"payload","pt":"msg","to":"[\t    { \"a\":$floor(100*$random()),\"b\":$floor(100*$random()),\"c\":$floor(100*$random())},\t    { \"a\":$floor(100*$random()),\"b\":$floor(100*$random()),\"c\":$floor(100*$random())},\t    { \"a\":$floor(100*$random()),\"b\":$floor(100*$random()),\"c\":$floor(100*$random())},\t    { \"a\":$floor(100*$random()),\"b\":$floor(100*$random()),\"c\":$floor(100*$random())}\t]","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":270,"y":620,"wires":[["63775903.b60948"]]},{"id":"63775903.b60948","type":"csv","z":"f02b5598.342e68","name":"","sep":",","hdrin":"","hdrout":true,"multi":"one","ret":"\\n","temp":"a,b,c","skip":"0","x":450,"y":620,"wires":[["e8bc4154.5d938"]]},{"id":"e8bc4154.5d938","type":"debug","z":"f02b5598.342e68","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":590,"y":620,"wires":[]},{"id":"99751025.e3264","type":"comment","z":"f02b5598.342e68","name":"Generate CSV output","info":"","x":120,"y":700,"wires":[]},{"id":"f50b4d09.8f3e2","type":"inject","z":"f02b5598.342e68","name":"Inject","props":[{"p":"payload","v":"","vt":"date"},{"p":"topic","v":"","vt":"string"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"","payloadType":"date","x":110,"y":740,"wires":[["3f898c90.585d84"]]},{"id":"71a9e03c.3d6c4","type":"csv","z":"f02b5598.342e68","name":"","sep":",","hdrin":true,"hdrout":"none","multi":"mult","ret":"\\n","temp":"","skip":"1","strings":true,"x":410,"y":740,"wires":[["9eba31b.88ad1d"]]},{"id":"9eba31b.88ad1d","type":"debug","z":"f02b5598.342e68","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","statusVal":"","statusType":"auto","x":570,"y":740,"wires":[]},{"id":"3f898c90.585d84","type":"template","z":"f02b5598.342e68","name":"CSV data","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"# This is some random data\na,b,c\n80,18,2\n52,36,10\n91,18,61\n32,47,65","output":"str","x":260,"y":740,"wires":[["71a9e03c.3d6c4"]]},{"id":"20e9502d.f5dfb","type":"inject","z":"f02b5598.342e68","name":"inject","repeat":"","crontab":"","once":false,"onceDelay":"","topic":"","payload":"","payloadType":"date","x":110,"y":880,"wires":[["4f0468a1.7a7308"]]},{"id":"4f0468a1.7a7308","type":"template","z":"f02b5598.342e68","name":"","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"one\ntwo\nthree\nfour\nfive","x":240,"y":880,"wires":[["dcf70766.571908"]]},{"id":"dcf70766.571908","type":"split","z":"f02b5598.342e68","name":"","splt":"\\n","x":190,"y":940,"wires":[["23edcd55.70b2b2"]]},{"id":"3196b745.998bd8","type":"join","z":"f02b5598.342e68","name":"","mode":"auto","build":"string","property":"payload","propertyType":"msg","key":"topic","joiner":"\\n","timeout":"","count":"","x":530,"y":940,"wires":[["b8316eaa.e91ef"]]},{"id":"b8316eaa.e91ef","type":"debug","z":"f02b5598.342e68","name":"debug","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","targetType":"msg","x":650,"y":940,"wires":[]},{"id":"23edcd55.70b2b2","type":"change","z":"f02b5598.342e68","name":"Prepend line number","rules":[{"t":"set","p":"payload","pt":"msg","to":"(parts.index+1) & \": \" & payload","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":360,"y":940,"wires":[["3196b745.998bd8"]]},{"id":"6c0ae9f0.4004f8","type":"inject","z":"d217000f.892be","name":"","repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"","payloadType":"date","x":100,"y":1660,"wires":[["d7a35d30.b1196","fab11482.374a58"]]},{"id":"d7a35d30.b1196","type":"debug","z":"d217000f.892be","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":610,"y":1660,"wires":[]},{"id":"fab11482.374a58","type":"trigger","z":"d217000f.892be","name":"","op1":"reset","op2":"true","op1type":"str","op2type":"bool","duration":"2","extend":true,"units":"s","reset":"","bytopic":"all","outputs":1,"x":260,"y":1700,"wires":[["af611f05.371ee"]]},{"id":"af611f05.371ee","type":"trigger","z":"d217000f.892be","name":"","op1":"0","op2":"0","op1type":"num","op2type":"str","duration":"-2","extend":false,"units":"s","reset":"reset","bytopic":"all","outputs":1,"x":420,"y":1700,"wires":[["d7a35d30.b1196"]]},{"id":"5beae92c.aa2cd8","type":"http in","z":"a8b0d96d.c31858","name":"","url":"/hello-file","method":"get","swaggerDoc":"","x":210,"y":720,"wires":[["7aed76b8.c6e7a8"]]},{"id":"c03488db.841868","type":"http response","z":"a8b0d96d.c31858","name":"","x":710,"y":720,"wires":[]},{"id":"c72f1aba.1b3e08","type":"comment","z":"a8b0d96d.c31858","name":"Serve a local file","info":"Without content-type set, the browser will\ndownload the file rather than display it.\n\nNeed to set content-type to the correct\nmime type for the file.\n\n    curl http://localhost:1880/hello-file","x":200,"y":680,"wires":[]},{"id":"e1e295ce.102588","type":"change","z":"a8b0d96d.c31858","name":"Set Headers","rules":[{"t":"set","p":"headers","pt":"msg","to":"{}","tot":"json"},{"t":"set","p":"headers.content-type","pt":"msg","to":"image/png","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":570,"y":720,"wires":[["c03488db.841868"]]},{"id":"7aed76b8.c6e7a8","type":"file in","z":"a8b0d96d.c31858","name":"","filename":"/tmp/node-red.png","format":"","x":390,"y":720,"wires":[["e1e295ce.102588"]]},{"id":"4bcf551a.4ea85c","type":"change","z":"eca0d768.8a4f18","name":"Clear headers","rules":[{"t":"delete","p":"headers","pt":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":590,"y":700,"wires":[["aad98017.aa128"]]},{"id":"c4bb79cb.78bdc8","type":"debug","z":"eca0d768.8a4f18","name":"","active":true,"console":"false","complete":"false","x":550,"y":280,"wires":[]},{"id":"3dee66a1.f7d30a","type":"http request","z":"eca0d768.8a4f18","name":"","method":"GET","ret":"txt","url":"http://localhost:1880/{{payload}}","x":370,"y":280,"wires":[["c4bb79cb.78bdc8"]]},{"id":"82f7c0f7.c24eb","type":"inject","z":"eca0d768.8a4f18","name":"","props":[{"p":"payload","v":"hello","vt":"str"},{"p":"topic","v":"","vt":"string"}],"repeat":"","crontab":"","once":false,"topic":"","payload":"hello","payloadType":"str","x":210,"y":280,"wires":[["3dee66a1.f7d30a"]]},{"id":"ca843ceb.7105e","type":"comment","z":"eca0d768.8a4f18","name":"Set the url of a request using a template","info":"","x":290,"y":240,"wires":[]},{"id":"10fd9ba7.688944","type":"comment","z":"eca0d768.8a4f18","name":"Get a binary response","info":"","x":240,"y":760,"wires":[]},{"id":"6a7cf5b4.e9453c","type":"http request","z":"eca0d768.8a4f18","name":"","method":"GET","ret":"bin","url":"http://localhost:1880/hello-file","x":390,"y":800,"wires":[["521d4113.79ac"]]},{"id":"b1043d97.59d97","type":"inject","z":"eca0d768.8a4f18","name":"","repeat":"","crontab":"","once":false,"topic":"","payload":"","payloadType":"date","x":220,"y":800,"wires":[["6a7cf5b4.e9453c"]]},{"id":"521d4113.79ac","type":"debug","z":"eca0d768.8a4f18","name":"","active":true,"console":"false","complete":"false","x":570,"y":800,"wires":[]},{"id":"331cdf61.37ad8","type":"inject","z":"97c51b20.081458","name":"","props":[{"p":"payload"},{"p":"topic","vt":"str"}],"repeat":"","crontab":"","once":false,"onceDelay":"","topic":"","payload":"0","payloadType":"num","x":110,"y":400,"wires":[["7c40db44.935024"]]},{"id":"a8efca54.2de8c8","type":"debug","z":"d217000f.892be","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":530,"y":740,"wires":[]},{"id":"58c5314e.02f3d","type":"debug","z":"d217000f.892be","name":"Output 3","active":true,"tosidebar":true,"console":false,"tostatus":true,"complete":"payload","targetType":"msg","statusVal":"payload","statusType":"auto","x":560,"y":660,"wires":[]},{"id":"86cfb27.e1b3d5","type":"comment","z":"d217000f.892be","name":"Route a message based on a context property","info":"","x":190,"y":520,"wires":[]},{"id":"82af3e35.49bae","type":"switch","z":"d217000f.892be","name":"Context based routing","property":"state","propertyType":"flow","rules":[{"t":"eq","v":"1","vt":"num"},{"t":"eq","v":"2","vt":"num"},{"t":"eq","v":"3","vt":"num"}],"checkall":"true","repair":false,"outputs":3,"x":320,"y":600,"wires":[["3c088e64.c430f2"],["481b969d.f9ef68"],["58c5314e.02f3d"]]},{"id":"3c088e64.c430f2","type":"debug","z":"d217000f.892be","name":"Output 1","active":true,"tosidebar":true,"console":false,"tostatus":true,"complete":"payload","targetType":"msg","statusVal":"payload","statusType":"auto","x":560,"y":540,"wires":[]},{"id":"481b969d.f9ef68","type":"debug","z":"d217000f.892be","name":"Output 2","active":true,"tosidebar":true,"console":false,"tostatus":true,"complete":"payload","targetType":"msg","statusVal":"payload","statusType":"auto","x":560,"y":600,"wires":[]},{"id":"7cc0fad8.bfe9e4","type":"inject","z":"d217000f.892be","name":"Inject","props":[{"p":"payload","v":"","vt":"date"},{"p":"topic","v":"","vt":"string"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"","payloadType":"date","x":110,"y":600,"wires":[["82af3e35.49bae"]]},{"id":"8087227f.49049","type":"comment","z":"e6309ba0.c51698","name":"DEMO OF Reading The PDF FILE","info":"","x":420,"y":100,"wires":[]},{"id":"b599cd50.07f92","type":"inject","z":"e6309ba0.c51698","name":"","props":[{"p":"payload"},{"p":"topic","vt":"str"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"","payloadType":"date","x":160,"y":180,"wires":[["478d8dad.501004"]]},{"id":"478d8dad.501004","type":"file in","z":"e6309ba0.c51698","name":"PDF FILE READ","filename":"G:\\pdf\\abc.pdf","format":"stream","chunk":false,"sendError":false,"encoding":"utf8","x":330,"y":260,"wires":[["633aee09.324f"]]},{"id":"5b15120b.fe5d3c","type":"pdf-hummus","z":"e6309ba0.c51698","name":"","filename":"","split":true,"mode":{"value":"asBuffer"},"x":430,"y":380,"wires":[["266ac158.4ecc8e"]]},{"id":"fdc7458d.d41658","type":"debug","z":"e6309ba0.c51698","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","statusVal":"","statusType":"auto","x":730,"y":480,"wires":[]},{"id":"81038f11.b67f7","type":"ui_template","z":"c0e2512e.4c22f","group":"3d882eae.376e82","name":"fileInput","order":0,"width":"6","height":"1","format":"<div class=\"fileContainer\">\n    <input type=\"file\" name=\"file\" id=\"file\" class=\"inputfile\" />\n    <label for=\"file\">File</label>\n    <p style=\"margin:auto\" id=\"fileName\"></p>\n    <button class=\"vibrate filled touched smallfont rounded greybuttons\" ng-click=\"clear()\"> \n       <ng-md-icon style=\"color: #fff;\" icon=\"clear\">\n            <md-tooltip md-direction=\"bottom\">CLEAR</md-tooltip>\n        </ng-md-icon>\n    </button> \n</div>\n\n<style>\n    .fileContainer {\n        display: flex;\n    }\n    .inputfile {\n\twidth: 0.1px;\n\theight: 0.1px;\n\topacity: 0;\n\toverflow: hidden;\n\tposition: absolute;\n\tz-index: -1;\n}\n\n.inputfile + label {\n    font-size: 1.25em;\n    font-weight: 700;\n    color: white;\n    text-align: center;\n    padding: 5px;\n    width: 60px;\n    background-color: black;\n}\n\n.inputfile:focus + label,\n.inputfile + label:hover {\n    background-color: red;\n}\n\n.inputfile + label {\n\tcursor: pointer; /* \"hand\" cursor */\n}\n\n.inputfile:focus + label {\n\toutline: 1px dotted #000;\n\toutline: -webkit-focus-ring-color auto 5px;\n}\n\n.inputfile + label * {\n\tpointer-events: none;\n}\n\n</style>\n\n<script>\n(function(scope) {\n   var fileInput = $('#file')\n   var fileName = $('#fileName')\n   \n   scope.clear = function() {\n       fileInput.val('').trigger('change')\n   }\n   \n   fileInput.on('change', function(event) {\n        var file = fileInput[0].files[0]; \n        \n        fileName.text(file ? file.name : '')\n        \n        if(file) {\n       \n            var reader = new FileReader();\n            reader.readAsBinaryString(file);\n        \n            reader.onload = function() {\n                scope.send({payload: reader.result, file: file.name})\n            };\n            reader.onerror = function() {\n                console.log('Error while reading files');\n            };\n        } else\n            scope.send({payload: null})\n   })\n    \n})(scope);\n</script>","storeOutMessages":true,"fwdInMessages":true,"templateScope":"local","x":200,"y":120,"wires":[["8fe07a42.69e968","dabb4a71.f8b6e8"]]},{"id":"dabb4a71.f8b6e8","type":"function","z":"c0e2512e.4c22f","name":"","func":"var toDelete = !msg.payload\n\nif(!toDelete) {\n    var buffer = new Buffer(msg.payload, \"binary\");\n    node.send({topic: 'create', payload: buffer, filename: 'files/' + msg.file})\n    flow.set('file', msg.file.name)\n}\n\n","outputs":1,"noerr":0,"x":403,"y":121,"wires":[["6d97ce52.003d7"]]},{"id":"6d97ce52.003d7","type":"file","z":"c0e2512e.4c22f","name":"","filename":"","appendNewline":true,"createDir":false,"overwriteFile":"false","encoding":"none","x":639,"y":122,"wires":[[]]},{"id":"8fe07a42.69e968","type":"exec","z":"c0e2512e.4c22f","command":"rm -rf files/*","addpay":false,"append":"","useSpawn":"false","timer":"","oldrc":false,"name":"","x":427,"y":190,"wires":[[],[],[]]},{"id":"75540143.de239","type":"pdf-hummus","z":"2a061f19.b163","name":"","filename":"G:\\pdf\\abc.pdf","split":true,"mode":{"value":"asBuffer"},"x":310,"y":160,"wires":[["cd04c7ce.3b70c8","a84e0874.451318"]]},{"id":"38aade4f.ab0c12","type":"fileinject","z":"2a061f19.b163","name":"G:\\pdf\\abc.pdf","x":152.5,"y":157,"wires":[["75540143.de239"]]},{"id":"cd04c7ce.3b70c8","type":"debug","z":"2a061f19.b163","name":"","active":true,"console":"false","complete":"false","x":489,"y":160,"wires":[]},{"id":"a84e0874.451318","type":"watson-discovery-v1-document-loader","z":"2a061f19.b163","name":"","service-endpoint":"https://gateway.watsonplatform.net/discovery/api","x":450.5,"y":228,"wires":[["2e9ac940.1cd4c6"]]},{"id":"2e9ac940.1cd4c6","type":"debug","z":"2a061f19.b163","name":"","active":true,"console":"false","complete":"true","x":650,"y":226,"wires":[]},{"id":"266ac158.4ecc8e","type":"function","z":"e6309ba0.c51698","name":"b to s","func":"msg.payload = msg.payload.toString()\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":620,"y":400,"wires":[["fdc7458d.d41658"]]},{"id":"633aee09.324f","type":"pdf","z":"e6309ba0.c51698","name":"","filename":"","sortByY":false,"sortByX":false,"combineColumn":false,"combineRow":false,"x":590,"y":260,"wires":[["4fee90c3.87ed2"],["2e309664.49ed2a"]]},{"id":"4fee90c3.87ed2","type":"debug","z":"e6309ba0.c51698","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","statusVal":"","statusType":"auto","x":730,"y":200,"wires":[]},{"id":"2e309664.49ed2a","type":"debug","z":"e6309ba0.c51698","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","statusVal":"","statusType":"auto","x":730,"y":320,"wires":[]}]